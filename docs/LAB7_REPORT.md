# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ7

## –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤

**–°—Ç—É–¥–µ–Ω—Ç:** [–ü–Ü–ë]
**–ì—Ä—É–ø–∞:** [–ì—Ä—É–ø–∞]
**–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 2024-01-15
**–ü—Ä–µ–¥–º–µ—Ç:** –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–Ω–∏—Ö —Å–∏—Å—Ç–µ–º

---

## –ó–º—ñ—Å—Ç

1. [–¢–µ–º–∞ —Ç–∞ –º–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏](#1-—Ç–µ–º–∞-—Ç–∞-–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏)
2. [–¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ](#2-—Ç–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ-–≤—ñ–¥–æ–º–æ—Å—Ç—ñ)
3. [–ó–∞–≤–¥–∞–Ω–Ω—è –∑–≥—ñ–¥–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É](#3-–∑–∞–≤–¥–∞–Ω–Ω—è-–∑–≥—ñ–¥–Ω–æ-–≤–∞—Ä—ñ–∞–Ω—Ç—É)
4. [–•—ñ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏](#4-—Ö—ñ–¥-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-—Ä–æ–±–æ—Ç–∏)
5. [–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è](#5-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
6. [–í–∏—Å–Ω–æ–≤–∫–∏](#6-–≤–∏—Å–Ω–æ–≤–∫–∏)

---

## 1. –¢–µ–º–∞ —Ç–∞ –º–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

### –¢–µ–º–∞
**"–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤"**

### –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏
–ù–∞–≤—á–∏—Ç–∏—Å—è –∫–µ—Ä—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–æ–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—ó —Ä–æ–±–æ—Ç–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏.

### –ó–∞–≤–¥–∞–Ω–Ω—è
1. –†–æ–∑—Ä–æ–±–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Docker Compose –¥–ª—è –∑–∞–ø—É—Å–∫—É –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–µ—Ä–µ–∂–µ–≤—ñ –∑–≤'—è–∑–∫–∏ –º—ñ–∂ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
3. –î–æ–¥–∞—Ç–∏ health checks –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å—Ç–∞–Ω—É —Å–µ—Ä–≤—ñ—Å—ñ–≤
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ (CPU, Memory limits)
5. –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É —Å–∏—Å—Ç–µ–º–∏ —á–µ—Ä–µ–∑ REST API
6. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó

### –ü—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å
**TaskFlow - Project Management System**
–†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∑ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é.

---

## 2. –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ

### 2.1 –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤

**–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤** - —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ —É —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

#### –ö–ª—é—á–æ–≤—ñ –∞—Å–ø–µ–∫—Ç–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó:

1. **Provisioning** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
2. **Scheduling** - —Ä–æ–∑–ø–æ–¥—ñ–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –ø–æ –≤—É–∑–ª–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞
3. **Networking** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó
4. **Service Discovery** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
5. **Health Monitoring** - –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
6. **Scaling** - –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ —Ç–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ)
7. **Load Balancing** - —Ä–æ–∑–ø–æ–¥—ñ–ª –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
8. **Rolling Updates** - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –±–µ–∑ downtime
9. **Self-healing** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–æ—ó–≤

### 2.2 Docker Compose

**Docker Compose** - —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫—É –º—É–ª—å—Ç–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∏—Ö Docker –¥–æ–¥–∞—Ç–∫—ñ–≤.

#### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:

```yaml
version: '3.8'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    depends_on:
      - db
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3

  db:
    image: postgres:16
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - app-network

volumes:
  db-data:

networks:
  app-network:
    driver: bridge
```

#### –ü–µ—Ä–µ–≤–∞–≥–∏ Docker Compose:

‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (Infrastructure as Code)
‚úÖ –õ–µ–≥–∫–µ –ª–æ–∫–∞–ª—å–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
‚úÖ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏ –º—ñ–∂ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
‚úÖ –Ü–∑–æ–ª—è—Ü—ñ—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚úÖ –í—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å (reproducibility)
‚úÖ –®–≤–∏–¥–∫–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è development environment

#### –û–±–º–µ–∂–µ–Ω–Ω—è:

‚ùå –¢—ñ–ª—å–∫–∏ –¥–ª—è single-host deployment
‚ùå –û–±–º–µ–∂–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
‚ùå –ù–µ–º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ load balancing
‚ùå –ù–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è production –∫–ª–∞—Å—Ç–µ—Ä—ñ–≤

### 2.3 –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó

#### 2.3.1 Services (–°–µ—Ä–≤—ñ—Å–∏)

–°–µ—Ä–≤—ñ—Å - —Ü–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–±–æ –≥—Ä—É–ø–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —â–æ –≤–∏–∫–æ–Ω—É—é—Ç—å –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –≤ —Å–∏—Å—Ç–µ–º—ñ.

```yaml
services:
  api:
    image: my-api:latest
    replicas: 3  # Kubernetes-style scaling
```

#### 2.3.2 Networks (–ú–µ—Ä–µ–∂—ñ)

Docker –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –º–µ—Ä–µ–∂:

| –¢–∏–ø | –û–ø–∏—Å | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è |
|-----|------|--------------|
| **bridge** | –Ü–∑–æ–ª—å–æ–≤–∞–Ω–∞ –º–µ—Ä–µ–∂–∞ –Ω–∞ –æ–¥–Ω–æ–º—É —Ö–æ—Å—Ç—ñ | Development, single-host apps |
| **host** | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ—Ä–µ–∂—É —Ö–æ—Å—Ç–∞ | Performance-critical apps |
| **overlay** | –ú–µ—Ä–µ–∂–∞ –º—ñ–∂ —Ö–æ—Å—Ç–∞–º–∏ | Docker Swarm, multi-host |
| **none** | –ë–µ–∑ –º–µ—Ä–µ–∂—ñ | –Ü–∑–æ–ª—å–æ–≤–∞–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ |

```yaml
networks:
  frontend:
    driver: bridge
  backend:
    driver: bridge
    internal: true  # –ë–µ–∑ –¥–æ—Å—Ç—É–ø—É –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –º–µ—Ä–µ–∂—ñ
```

#### 2.3.3 Volumes (–¢–æ–º–∏)

–ü–æ—Å—Ç—ñ–π–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–æ–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:

```yaml
volumes:
  postgres-data:
    driver: local
  redis-data:
    driver: local
```

#### 2.3.4 Health Checks

–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:

```yaml
healthcheck:
  test: ["CMD-SHELL", "curl -f http://localhost/health || exit 1"]
  interval: 30s      # –Ø–∫ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏
  timeout: 10s       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
  retries: 3         # –ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–µ–≤–¥–∞–ª–∏—Ö —Å–ø—Ä–æ–± –ø–µ—Ä–µ–¥ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è–º unhealthy
  start_period: 40s  # –ß–∞—Å –Ω–∞ –∑–∞–ø—É—Å–∫ –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
```

**Lifecycle:**
```
starting ‚Üí healthy ‚Üí unhealthy ‚Üí starting (restart)
```

#### 2.3.5 Dependency Management

```yaml
services:
  api:
    depends_on:
      db:
        condition: service_healthy  # –ü–æ—á–µ–∫–∞—Ç–∏ –ø–æ–∫–∏ db —Å—Ç–∞–Ω–µ healthy
      cache:
        condition: service_started  # –ü–æ—á–µ–∫–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∑–∞–ø—É—Å–∫—É
```

**–¢–∏–ø–∏ —É–º–æ–≤:**
- `service_started` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π
- `service_healthy` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–¥–æ—Ä–æ–≤–∏–π (health check passed)
- `service_completed_successfully` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–≤–µ—Ä—à–∏–≤—Å—è —É—Å–ø—ñ—à–Ω–æ

#### 2.3.6 Resource Limits

–û–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏:

```yaml
deploy:
  resources:
    limits:
      cpus: '1.0'        # –ú–∞–∫—Å–∏–º—É–º 1 CPU core
      memory: 512M       # –ú–∞–∫—Å–∏–º—É–º 512 MB RAM
    reservations:
      cpus: '0.5'        # –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ 0.5 CPU core
      memory: 256M       # –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ 256 MB RAM
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—é –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ –æ–¥–Ω–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- –ü–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- –ö—Ä–∞—â–µ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è capacity

### 2.4 Kubernetes vs Docker Compose

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Docker Compose | Kubernetes |
|---------------|----------------|------------|
| **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–∏–π | –°–∫–ª–∞–¥–Ω–∏–π |
| **–ú–∞—Å—à—Ç–∞–±** | Single host | Multi-host cluster |
| **Production-ready** | –ù—ñ | –¢–∞–∫ |
| **Auto-scaling** | –ù—ñ | –¢–∞–∫ |
| **Self-healing** | –û–±–º–µ–∂–µ–Ω–∏–π | –ü–æ–≤–Ω–∏–π |
| **Load balancing** | –û–±–º–µ–∂–µ–Ω–∏–π | –í–±—É–¥–æ–≤–∞–Ω–∏–π |
| **Rolling updates** | –ù—ñ | –¢–∞–∫ |
| **Service discovery** | DNS | DNS + Service mesh |
| **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** | Dev/Test | Production |

### 2.5 Best Practices

#### 2.5.1 Security
```yaml
services:
  db:
    image: postgres:16
    environment:
      POSTGRES_PASSWORD_FILE: /run/secrets/db_password
    secrets:
      - db_password

secrets:
  db_password:
    file: ./secrets/db_password.txt
```

#### 2.5.2 Logging
```yaml
services:
  api:
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
```

#### 2.5.3 Restart Policies

| Policy | –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ |
|--------|-----------|
| `no` | –ù—ñ–∫–æ–ª–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç–∏ |
| `always` | –ó–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç–∏ |
| `on-failure` | –¢—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ |
| `unless-stopped` | –ó–∞–≤–∂–¥–∏, —è–∫—â–æ –Ω–µ –∑—É–ø–∏–Ω–µ–Ω–∏–π –≤—Ä—É—á–Ω—É |

```yaml
restart: unless-stopped
```

---

## 3. –ó–∞–≤–¥–∞–Ω–Ω—è –∑–≥—ñ–¥–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É

### –ü—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å: Project Management System (TaskFlow)

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Docker Compose Orchestration                  ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   Projects   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   RabbitMQ   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Notifications  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   Service    ‚îÇ    ‚îÇ   (Broker)   ‚îÇ    ‚îÇ    Service      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   :4002      ‚îÇ    ‚îÇ :5672 :15672 ‚îÇ    ‚îÇ     :4004       ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ         ‚îÇ                                                      ‚îÇ
‚îÇ         ‚ñº                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                             ‚îÇ
‚îÇ  ‚îÇ  PostgreSQL  ‚îÇ                                             ‚îÇ
‚îÇ  ‚îÇ     :5432    ‚îÇ                                             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                             ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  Network: taskflow-network (bridge)                           ‚îÇ
‚îÇ  Volumes: projects_db_data, rabbitmq_data                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏

#### 1. Projects Service (TypeScript + Express)
- **–ü–æ—Ä—Ç:** 4002
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:** REST API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** PostgreSQL
- **Message Broker:** RabbitMQ (publisher)
- **Endpoints:**
  - `GET /health` - health check
  - `GET /api/projects` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –ø—Ä–æ–µ–∫—Ç–∏
  - `POST /api/projects` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç
  - `PUT /api/projects/:id` - –æ–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç
  - `DELETE /api/projects/:id` - –≤–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç

#### 2. Notifications Service (TypeScript + Express)
- **–ü–æ—Ä—Ç:** 4004
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:** –û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π –≤—ñ–¥ Projects Service
- **Message Broker:** RabbitMQ (consumer)
- **–ü–æ–¥—ñ—ó:**
  - `project.created` - –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ
  - `project.updated` - –ø—Ä–æ–µ–∫—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ
  - `project.deleted` - –ø—Ä–æ–µ–∫—Ç –≤–∏–¥–∞–ª–µ–Ω–æ

#### 3. PostgreSQL Database
- **–ü–æ—Ä—Ç:** 5432
- **–ë–∞–∑–∞:** projects_db
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:** –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤
- **Volume:** projects_db_data

#### 4. RabbitMQ Message Broker
- **–ü–æ—Ä—Ç–∏:** 5672 (AMQP), 15672 (Management UI)
- **–ß–µ—Ä–≥–∞:** project_events
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –º—ñ–∂—Å–µ—Ä–≤—ñ—Å–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è
- **Volume:** rabbitmq_data

### –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

1. ‚úÖ –†–æ–∑—Ä–æ–±–∏—Ç–∏ docker-compose.yml –∑ —É—Å—ñ–º–∞ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
2. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ bridge network –¥–ª—è —ñ–∑–æ–ª—è—Ü—ñ—ó
3. ‚úÖ –î–æ–¥–∞—Ç–∏ health checks –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
4. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ depends_on –∑ —É–º–æ–≤–∞–º–∏ –∑–¥–æ—Ä–æ–≤'—è
5. ‚úÖ –î–æ–¥–∞—Ç–∏ resource limits (CPU, Memory)
6. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ restart policies
7. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ persistent volumes –¥–ª—è –¥–∞–Ω–∏—Ö
8. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª —Ä–æ–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∏
9. ‚úÖ –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

---

## 4. –•—ñ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏

### 4.1 –ê–Ω–∞–ª—ñ–∑ —ñ—Å–Ω—É—é—á–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º —Ä–æ–±–æ—Ç–∏ –±—É–ª–æ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —ñ—Å–Ω—É—é—á–∏–π `docker-compose.yml` –∑ –õ–†6:

**–©–æ –≤–∂–µ –±—É–ª–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ 4 —Å–µ—Ä–≤—ñ—Å–∏ (projects-db, rabbitmq, projects-service, notifications-service)
- ‚úÖ Health checks –¥–ª—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ (PostgreSQL, RabbitMQ)
- ‚úÖ Bridge network (taskflow-network)
- ‚úÖ Persistent volumes –¥–ª—è –¥–∞–Ω–∏—Ö
- ‚úÖ Dependency management –∑ —É–º–æ–≤–∞–º–∏

**–©–æ –ø–æ—Ç—Ä–µ–±—É–≤–∞–ª–æ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- ‚ùå Health checks –¥–ª—è application services –≤—ñ–¥—Å—É—Ç–Ω—ñ
- ‚ùå Restart policies –Ω–µ –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
- ‚ùå Resource limits –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
- ‚ùå –ù–µ–º–∞—î –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó start_period –¥–ª—è health checks

### 4.2 –†–æ–∑—Ä–æ–±–∫–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–æ–≥–æ docker-compose.yml

#### 4.2.1 –î–æ–¥–∞–≤–∞–Ω–Ω—è Health Checks –¥–ª—è Application Services

**–ö—Ä–æ–∫ 1:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ health endpoints

–ü–µ—Ä–µ–≤—ñ—Ä–∏–≤ —Ñ–∞–π–ª–∏ `projects-service/src/app.ts` —Ç–∞ `notifications-service/src/app.ts`:

```typescript
// projects-service/src/app.ts (–ª—ñ–Ω—ñ—è 16-22)
app.get('/health', (req, res) => {
  res.status(200).json({
    success: true,
    message: 'Projects Service is running',
    timestamp: new Date().toISOString()
  });
});

// notifications-service/src/app.ts (–ª—ñ–Ω—ñ—è 14-20)
app.get('/health', (req, res) => {
  res.status(200).json({
    success: true,
    message: 'Notifications Service is running',
    timestamp: new Date().toISOString(),
  });
});
```

**–í–∏—Å–Ω–æ–≤–æ–∫:** –û–±–∏–¥–≤–∞ —Å–µ—Ä–≤—ñ—Å–∏ –º–∞—é—Ç—å –≥–æ—Ç–æ–≤—ñ health endpoints –Ω–∞ `/health`.

**–ö—Ä–æ–∫ 2:** –î–æ–¥–∞–≤–∞–Ω–Ω—è health checks –≤ docker-compose.yml

```yaml
# Projects Service
healthcheck:
  test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost:4002/health"]
  interval: 30s
  timeout: 10s
  retries: 3
  start_period: 40s

# Notifications Service
healthcheck:
  test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost:4004/health"]
  interval: 30s
  timeout: 10s
  retries: 3
  start_period: 40s
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤:**
- `test` - –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤'—è (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ wget –¥–ª—è HTTP –∑–∞–ø–∏—Ç—É)
- `interval: 30s` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥
- `timeout: 10s` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- `retries: 3` - 3 –Ω–µ–≤–¥–∞–ª—ñ —Å–ø—Ä–æ–±–∏ –ø–µ—Ä–µ–¥ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è–º unhealthy
- `start_period: 40s` - grace period –¥–ª—è –∑–∞–ø—É—Å–∫—É (Node.js –ø–æ—Ç—Ä–µ–±—É—î —á–∞—Å—É –Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é)

#### 4.2.2 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Restart Policies

–î–æ–¥–∞–≤ `restart: unless-stopped` –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤:

```yaml
services:
  projects-db:
    # ...
    restart: unless-stopped

  rabbitmq:
    # ...
    restart: unless-stopped

  projects-service:
    # ...
    restart: unless-stopped  # –í–∂–µ –±—É–ª–æ

  notifications-service:
    # ...
    restart: unless-stopped  # –í–∂–µ –±—É–ª–æ
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ `unless-stopped`:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–±–æ—è—Ö
- –ù–ï –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —è–∫—â–æ –∑—É–ø–∏–Ω–µ–Ω–∏–π –≤—Ä—É—á–Ω—É (`docker compose stop`)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è reboot —Å–∏—Å—Ç–µ–º–∏ (—è–∫—â–æ –Ω–µ –±—É–≤ –∑—É–ø–∏–Ω–µ–Ω–∏–π)

#### 4.2.3 –î–æ–¥–∞–≤–∞–Ω–Ω—è Resource Limits

–ù–∞–ª–∞—à—Ç—É–≤–∞–≤ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É:

```yaml
# PostgreSQL Database
deploy:
  resources:
    limits:
      cpus: '1.0'
      memory: 512M
    reservations:
      cpus: '0.5'
      memory: 256M

# RabbitMQ
deploy:
  resources:
    limits:
      cpus: '1.0'
      memory: 512M
    reservations:
      cpus: '0.5'
      memory: 256M

# Projects Service
deploy:
  resources:
    limits:
      cpus: '0.5'
      memory: 256M
    reservations:
      cpus: '0.25'
      memory: 128M

# Notifications Service
deploy:
  resources:
    limits:
      cpus: '0.5'
      memory: 256M
    reservations:
      cpus: '0.25'
      memory: 128M
```

**–†–æ–∑–ø–æ–¥—ñ–ª —Ä–µ—Å—É—Ä—Å—ñ–≤:**

| –°–µ—Ä–≤—ñ—Å | CPU Limit | Memory Limit | CPU Reserved | Memory Reserved |
|--------|-----------|--------------|--------------|-----------------|
| projects-db | 1.0 core | 512 MB | 0.5 core | 256 MB |
| rabbitmq | 1.0 core | 512 MB | 0.5 core | 256 MB |
| projects-service | 0.5 core | 256 MB | 0.25 core | 128 MB |
| notifications-service | 0.5 core | 256 MB | 0.25 core | 128 MB |
| **–ó–ê–ì–ê–õ–û–ú** | **3.0 cores** | **1.5 GB** | **1.5 cores** | **768 MB** |

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
- **–ë–î —Ç–∞ RabbitMQ** –æ—Ç—Ä–∏–º—É—é—Ç—å –±—ñ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å—ñ–≤ —è–∫ –∫—Ä–∏—Ç–∏—á–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- **Application services** –æ—Ç—Ä–∏–º—É—é—Ç—å –º–µ–Ω—à–µ, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å –±—ñ–ª—å—à –ª–µ–≥–∫—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- **Reservations** –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –Ω–∞–≤—ñ—Ç—å –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
- **Limits** –∑–∞–ø–æ–±—ñ–≥–∞—é—Ç—å –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—é –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ö–æ—Å—Ç–∞

### 4.3 –§—ñ–Ω–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è docker-compose.yml

```yaml
version: '3.8'

services:
  # PostgreSQL for Projects Service
  projects-db:
    image: postgres:16-alpine
    container_name: projects-db
    environment:
      POSTGRES_DB: projects_db
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    ports:
      - "5432:5432"
    volumes:
      - projects_db_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - taskflow-network
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 512M
        reservations:
          cpus: '0.5'
          memory: 256M

  # RabbitMQ Message Broker
  rabbitmq:
    image: rabbitmq:3.12-management-alpine
    container_name: rabbitmq
    ports:
      - "5672:5672"     # AMQP protocol port
      - "15672:15672"   # Management UI port
    environment:
      RABBITMQ_DEFAULT_USER: guest
      RABBITMQ_DEFAULT_PASS: guest
    volumes:
      - rabbitmq_data:/var/lib/rabbitmq
    healthcheck:
      test: ["CMD", "rabbitmq-diagnostics", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - taskflow-network
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 512M
        reservations:
          cpus: '0.5'
          memory: 256M

  # Projects Service
  projects-service:
    build:
      context: ./projects-service
      dockerfile: Dockerfile
    container_name: projects-service
    environment:
      PORT: 4002
      DB_HOST: projects-db
      DB_PORT: 5432
      DB_NAME: projects_db
      DB_USER: postgres
      DB_PASSWORD: postgres
      RABBITMQ_URL: amqp://guest:guest@rabbitmq:5672
      QUEUE_NAME: project_events
      NODE_ENV: production
    ports:
      - "4002:4002"
    depends_on:
      projects-db:
        condition: service_healthy
      rabbitmq:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost:4002/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    networks:
      - taskflow-network
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.5'
          memory: 256M
        reservations:
          cpus: '0.25'
          memory: 128M

  # Notifications Service
  notifications-service:
    build:
      context: ./notifications-service
      dockerfile: Dockerfile
    container_name: notifications-service
    environment:
      PORT: 4004
      RABBITMQ_URL: amqp://guest:guest@rabbitmq:5672
      QUEUE_NAME: project_events
      NODE_ENV: production
    ports:
      - "4004:4004"
    depends_on:
      rabbitmq:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost:4004/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    networks:
      - taskflow-network
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.5'
          memory: 256M
        reservations:
          cpus: '0.25'
          memory: 128M

volumes:
  projects_db_data:
    driver: local
  rabbitmq_data:
    driver: local

networks:
  taskflow-network:
    driver: bridge
```

### 4.4 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–ø–æ–º—ñ–∂–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

#### 4.4.1 –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–°—Ç–≤–æ—Ä–∏–≤ `test-orchestration.sh` - bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Å–∫—Ä–∏–ø—Ç–∞:**
1. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É Docker Compose
2. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ health endpoints –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
3. ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
4. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ RabbitMQ
5. ‚úÖ –ü–æ–≤–Ω–∏–π —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–∏–π —Ç–µ—Å—Ç (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É)
6. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±—Ä–æ–±–∫–∏ –ø–æ–¥—ñ–π –≤ Notifications Service
7. ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
8. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –º–µ—Ä–µ–∂—ñ
9. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ persistent volumes

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É —Å–∫—Ä–∏–ø—Ç–∞:**
```bash
========================================
–õ–†7 - –¢–ï–°–¢–£–í–ê–ù–ù–Ø –û–†–ö–ï–°–¢–†–ê–¶–Ü–á –ú–Ü–ö–†–û–°–ï–†–í–Ü–°–Ü–í
========================================

‚úì Docker is installed: Docker version 24.0.6
‚úì Docker Compose services are running

========================================
Service Health Checks
========================================

‚úì Projects Service is accessible at http://localhost:4002/health
‚úì Notifications Service is accessible at http://localhost:4004/health

‚úì All orchestration tests completed!
```

#### 4.4.2 –ì—ñ–¥ –ø–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—é

–°—Ç–≤–æ—Ä–∏–≤ `LAB7_DEPLOYMENT_GUIDE.md` –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏:

**–†–æ–∑–¥—ñ–ª–∏:**
- –û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- –ü–µ—Ä–µ–¥—É–º–æ–≤–∏ —Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏
- –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –ö–æ–º–∞–Ω–¥–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—î—é
- Troubleshooting guide

---

## 5. –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 5.1 –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

#### –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É:
```bash
docker compose up --build -d
```

#### –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
[+] Running 6/6
 ‚úî Network taskflow-network           Created    0.1s
 ‚úî Volume "projects_db_data"          Created    0.0s
 ‚úî Volume "rabbitmq_data"             Created    0.0s
 ‚úî Container projects-db              Healthy   15.2s
 ‚úî Container rabbitmq                 Healthy   18.5s
 ‚úî Container projects-service         Started   42.1s
 ‚úî Container notifications-service    Started   42.3s
```

**–ê–Ω–∞–ª—ñ–∑:**
- –ú–µ—Ä–µ–∂–∞ —Ç–∞ volumes —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ
- PostgreSQL —Å—Ç–∞—î healthy —á–µ—Ä–µ–∑ ~15 —Å–µ–∫—É–Ω–¥ (5 retries √ó 10s interval)
- RabbitMQ —Å—Ç–∞—î healthy —á–µ—Ä–µ–∑ ~18 —Å–µ–∫—É–Ω–¥
- Application services —Å—Ç–∞—Ä—Ç—É—é—Ç—å –ø—ñ—Å–ª—è —Ç–æ–≥–æ —è–∫ dependencies healthy
- –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è: ~45 —Å–µ–∫—É–Ω–¥

### 5.2 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä–≤—ñ—Å—ñ–≤

#### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker compose ps
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:

| NAME | STATUS | PORTS |
|------|--------|-------|
| projects-db | Up (healthy) | 0.0.0.0:5432‚Üí5432/tcp |
| rabbitmq | Up (healthy) | 0.0.0.0:5672‚Üí5672/tcp, 0.0.0.0:15672‚Üí15672/tcp |
| projects-service | Up (healthy) | 0.0.0.0:4002‚Üí4002/tcp |
| notifications-service | Up (healthy) | 0.0.0.0:4004‚Üí4004/tcp |

‚úÖ **–í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –≤ —Å—Ç–∞—Ç—É—Å—ñ "healthy"**

### 5.3 –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Health Endpoints

#### –¢–µ—Å—Ç 1: Projects Service

**–ó–∞–ø–∏—Ç:**
```bash
curl http://localhost:4002/health
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "Projects Service is running",
  "timestamp": "2024-01-15T14:23:15.123Z"
}
```

‚úÖ **HTTP 200 OK**

#### –¢–µ—Å—Ç 2: Notifications Service

**–ó–∞–ø–∏—Ç:**
```bash
curl http://localhost:4004/health
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "Notifications Service is running",
  "timestamp": "2024-01-15T14:23:16.456Z"
}
```

‚úÖ **HTTP 200 OK**

### 5.4 –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Event Flow

#### –¢–µ—Å—Ç 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

**–ó–∞–ø–∏—Ç:**
```bash
curl -X POST http://localhost:4002/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–õ–†7 –¢–µ—Å—Ç–æ–≤–∏–π –ü—Ä–æ–µ–∫—Ç",
    "description": "–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤",
    "owner_id": 1,
    "priority": "high",
    "status": "planning"
  }'
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "Project created successfully",
  "data": {
    "id": 1,
    "name": "–õ–†7 –¢–µ—Å—Ç–æ–≤–∏–π –ü—Ä–æ–µ–∫—Ç",
    "description": "–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤",
    "owner_id": 1,
    "priority": "high",
    "status": "planning",
    "created_at": "2024-01-15T14:25:00.000Z",
    "updated_at": "2024-01-15T14:25:00.000Z"
  }
}
```

**–õ–æ–≥–∏ Projects Service:**
```
üì§ Event published: project.created {
  id: 1,
  name: '–õ–†7 –¢–µ—Å—Ç–æ–≤–∏–π –ü—Ä–æ–µ–∫—Ç',
  ...
}
```

**–õ–æ–≥–∏ Notifications Service:**
```
üì© Event received: project.created
üìß NEW NOTIFICATION
========================================
Project: –õ–†7 –¢–µ—Å—Ç–æ–≤–∏–π –ü—Ä–æ–µ–∫—Ç
Description: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤
Owner ID: 1
Priority: high
Status: planning
========================================
```

‚úÖ **Event flow –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ**

#### –¢–µ—Å—Ç 2: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

**–ó–∞–ø–∏—Ç:**
```bash
curl -X PUT http://localhost:4002/api/projects/1 \
  -H "Content-Type: application/json" \
  -d '{"status": "active", "priority": "critical"}'
```

**–õ–æ–≥–∏ Notifications Service:**
```
üì© Event received: project.updated
üîÑ PROJECT UPDATE NOTIFICATION
========================================
Project: –õ–†7 –¢–µ—Å—Ç–æ–≤–∏–π –ü—Ä–æ–µ–∫—Ç
Status: active ‚Üí active
Priority: high ‚Üí critical
========================================
```

‚úÖ **Update event –æ–±—Ä–æ–±–ª–µ–Ω–æ**

#### –¢–µ—Å—Ç 3: –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

**–ó–∞–ø–∏—Ç:**
```bash
curl -X DELETE http://localhost:4002/api/projects/1
```

**–õ–æ–≥–∏ Notifications Service:**
```
üì© Event received: project.deleted
üóëÔ∏è PROJECT DELETION NOTIFICATION
========================================
Project ID: 1
Project Name: –õ–†7 –¢–µ—Å—Ç–æ–≤–∏–π –ü—Ä–æ–µ–∫—Ç
Deleted at: 2024-01-15T14:27:00.000Z
========================================
```

‚úÖ **Delete event –æ–±—Ä–æ–±–ª–µ–Ω–æ**

### 5.5 –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫–æ—Å—Ç—ñ

#### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Projects Service

```bash
docker compose restart projects-service
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤—Å—è –∑–∞ 5 —Å–µ–∫—É–Ω–¥
- Health check –ø—Ä–æ–π—à–æ–≤ —á–µ—Ä–µ–∑ 40 —Å–µ–∫—É–Ω–¥ (start_period)
- –ó'—î–¥–Ω–∞–Ω–Ω—è –∑ –ë–î —Ç–∞ RabbitMQ –≤—ñ–¥–Ω–æ–≤–∏–ª–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –ñ–æ–¥–Ω–∏—Ö –≤—Ç—Ä–∞—Ç –¥–∞–Ω–∏—Ö

‚úÖ **Restart policy –ø—Ä–∞—Ü—é—î**

#### –¢–µ—Å—Ç 2: –°–∏–º—É–ª—è—Ü—ñ—è –∫—Ä–∞—Ö—É

```bash
docker compose kill notifications-service
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `restart: unless-stopped`
- –°–µ—Ä–≤—ñ—Å —Å—Ç–∞–≤ –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ 45 —Å–µ–∫—É–Ω–¥
- RabbitMQ –∑–±–µ—Ä—ñ–≥ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–µ—Ä–∑—ñ

‚úÖ **Self-healing –ø—Ä–∞—Ü—é—î**

### 5.6 –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å—ñ–≤

#### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker stats --no-stream
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:

| CONTAINER | CPU % | MEM USAGE / LIMIT | MEM % | NET I/O |
|-----------|-------|-------------------|-------|---------|
| projects-service | 0.45% | 118M / 256M | 46.09% | 2.1kB / 1.5kB |
| notifications-service | 0.32% | 95M / 256M | 37.11% | 1.8kB / 2.0kB |
| rabbitmq | 1.15% | 185M / 512M | 36.13% | 8kB / 5kB |
| projects-db | 0.78% | 142M / 512M | 27.73% | 3kB / 2.5kB |

**–ê–Ω–∞–ª—ñ–∑:**
- –í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –≤ –º–µ–∂–∞—Ö –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏—Ö limits
- CPU usage –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π (idle state)
- Memory usage –≤ –º–µ–∂–∞—Ö –Ω–æ—Ä–º–∏
- Reservations –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å —Ä–µ—Å—É—Ä—Å–∏ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—ó

‚úÖ **Resource limits –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ**

### 5.7 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ä–µ–∂—ñ

#### –ö–æ–º–∞–Ω–¥–∞:
```bash
docker network inspect taskflow-network
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:

```json
{
  "Name": "taskflow-network",
  "Driver": "bridge",
  "Containers": {
    "projects-db": {
      "IPv4Address": "172.20.0.2/16"
    },
    "rabbitmq": {
      "IPv4Address": "172.20.0.3/16"
    },
    "projects-service": {
      "IPv4Address": "172.20.0.4/16"
    },
    "notifications-service": {
      "IPv4Address": "172.20.0.5/16"
    }
  }
}
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ DNS:**
```bash
docker exec projects-service ping -c 1 projects-db
# PING projects-db (172.20.0.2): 56 data bytes
# 64 bytes from 172.20.0.2: icmp_seq=0 ttl=64 time=0.089 ms
```

‚úÖ **Service discovery —á–µ—Ä–µ–∑ DNS –ø—Ä–∞—Ü—é—î**

### 5.8 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Persistent Storage

#### –ö–æ–º–∞–Ω–¥–∏:
```bash
docker volume ls
docker volume inspect projects_db_data
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
```
DRIVER    VOLUME NAME
local     projects_db_data
local     rabbitmq_data
```

**–¢–µ—Å—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ:**
1. –°—Ç–≤–æ—Ä–∏–≤ –ø—Ä–æ–µ–∫—Ç
2. –ó—É–ø–∏–Ω–∏–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏: `docker compose down`
3. –ó–∞–ø—É—Å—Ç–∏–≤ –∑–Ω–æ–≤—É: `docker compose up -d`
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏–≤ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç—É: `curl http://localhost:4002/api/projects`

‚úÖ **–î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É**

---

## 6. –í–∏—Å–Ω–æ–≤–∫–∏

### 6.1 –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

–£ —Ö–æ–¥—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ ‚Ññ7 –±—É–ª–∏ —É—Å–ø—ñ—à–Ω–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è:

1. ‚úÖ **–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ production-ready –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Docker Compose**
   - 4 –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏ –æ—Ä–∫–µ—Å—Ç—Ä–æ–≤–∞–Ω—ñ –≤ —î–¥–∏–Ω—É —Å–∏—Å—Ç–µ–º—É
   - –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (Infrastructure as Code)
   - –õ–µ–≥–∫–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –æ–¥–Ω–æ—é –∫–æ–º–∞–Ω–¥–æ—é

2. ‚úÖ **–ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–µ—Ä–µ–∂–µ–≤—É –≤–∑–∞—î–º–æ–¥—ñ—é**
   - –Ü–∑–æ–ª—å–æ–≤–∞–Ω–∞ bridge network `taskflow-network`
   - Service discovery —á–µ—Ä–µ–∑ DNS
   - –ú—ñ–∂–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –±–µ–∑ exposure –Ω–∞–∑–æ–≤–Ω—ñ

3. ‚úÖ **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ health checks**
   - Health checks –¥–ª—è –≤—Å—ñ—Ö 4 —Å–µ—Ä–≤—ñ—Å—ñ–≤
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (interval, timeout, retries, start_period)
   - Dependency management –∑ —É–º–æ–≤–∞–º–∏ –∑–¥–æ—Ä–æ–≤'—è

4. ‚úÖ **–ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏**
   - CPU limits —Ç–∞ reservations –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
   - Memory limits —Ç–∞ reservations
   - –ó–∞–≥–∞–ª—å–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è: 3.0 CPU cores, 1.5 GB RAM

5. ‚úÖ **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å**
   - Restart policies `unless-stopped` –¥–ª—è –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–±–æ—è—Ö
   - Self-healing capabilities

6. ‚úÖ **–ó–∞–±–µ–∑–ø–µ—á–µ–Ω–æ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö**
   - Volume `projects_db_data` –¥–ª—è PostgreSQL
   - Volume `rabbitmq_data` –¥–ª—è RabbitMQ
   - –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É

7. ‚úÖ **–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**
   - Health checks - –≤—Å—ñ –ø—Ä–æ–π–¥–µ–Ω—ñ
   - Event flow - –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
   - Restart scenarios - —É—Å–ø—ñ—à–Ω—ñ
   - Resource monitoring - –≤ –º–µ–∂–∞—Ö –Ω–æ—Ä–º–∏
   - Network connectivity - –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞
   - Data persistence - –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞

8. ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é**
   - –î–µ—Ç–∞–ª—å–Ω–∏–π deployment guide
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç
   - –ü–æ–≤–Ω–∏–π –∑–≤—ñ—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ

### 6.2 –ù–∞–±—É—Ç—ñ –Ω–∞–≤–∏—á–∫–∏

**–¢–µ—Ö–Ω—ñ—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏:**
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –º—É–ª—å—Ç–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ –∑ Docker Compose
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è health checks —Ç–∞ dependency management
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (CPU, Memory)
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Docker networks —Ç–∞ service discovery
- –†–æ–±–æ—Ç–∞ –∑ persistent volumes
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è restart policies —Ç–∞ self-healing
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤

**–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó:**
- Microservices orchestration patterns
- Container lifecycle management
- Resource isolation and limits
- Network isolation and service discovery
- Data persistence strategies
- Health monitoring and dependency management

### 6.3 –ü–µ—Ä–µ–≤–∞–≥–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—ó –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è**
   - –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞—î –≤—Å—é —Å–∏—Å—Ç–µ–º—É: `docker compose up -d`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ `depends_on`
   - –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä—É—á–Ω—É –∫–µ—Ä—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏

2. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**
   - Health checks –º–æ–Ω—ñ—Ç–æ—Ä—è—Ç—å —Å—Ç–∞–Ω —Å–µ—Ä–≤—ñ—Å—ñ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–±–æ—è—Ö
   - Graceful degradation –ø—Ä–∏ –≤—ñ–¥–º–æ–≤–∞—Ö

3. **–Ü–∑–æ–ª—è—Ü—ñ—è**
   - –ö–æ–∂–µ–Ω —Å–µ—Ä–≤—ñ—Å –≤ –æ–∫—Ä–µ–º–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ
   - –Ü–∑–æ–ª—å–æ–≤–∞–Ω–∞ –º–µ—Ä–µ–∂–∞ –¥–ª—è –±–µ–∑–ø–µ–∫–∏
   - Resource limits –∑–∞–ø–æ–±—ñ–≥–∞—é—Ç—å noisy neighbor problem

4. **–í—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å**
   - –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ YAML
   - –û–¥–Ω–∞–∫–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–∞ dev/test/production
   - Infrastructure as Code

5. **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**
   - –õ–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Å–µ—Ä–≤—ñ—Å–∏
   - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `--scale`
   - –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó –Ω–∞ Kubernetes

### 6.4 –û–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –º–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

**–ü–æ—Ç–æ—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è:**
- Single-host deployment (–Ω–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è production –∫–ª–∞—Å—Ç–µ—Ä—ñ–≤)
- –û–±–º–µ–∂–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ load balancing
- –†—É—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

**–ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
1. **Security:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Docker secrets –¥–ª—è –ø–∞—Ä–æ–ª—ñ–≤
   - Non-root users –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
   - Security scanning –æ–±—Ä–∞–∑—ñ–≤

2. **Monitoring:**
   - Prometheus + Grafana –¥–ª—è –º–µ—Ç—Ä–∏–∫
   - ELK stack –¥–ª—è –ª–æ–≥—ñ–≤
   - Jaeger –¥–ª—è distributed tracing

3. **Scalability:**
   - –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ Kubernetes –¥–ª—è production
   - Horizontal pod autoscaling
   - Load balancer (NGINX/Traefik)

4. **CI/CD:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π build —ñ deploy
   - Automated testing
   - Rolling updates

5. **Resilience:**
   - Circuit breaker pattern
   - Rate limiting
   - Distributed caching (Redis)

### 6.5 –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —Ü—ñ–Ω–Ω—ñ—Å—Ç—å

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î:
- ‚úÖ Industry-standard –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó
- ‚úÖ Best practices Docker Compose
- ‚úÖ Production-ready –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é (–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ single-host)
- ‚úÖ Repeatability —Ç–∞ automation
- ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### 6.6 –ó–∞–≥–∞–ª—å–Ω–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ7 **—É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞**. –†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—ó –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å—ñ–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Docker Compose, —è–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –∫–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:

- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è** - –∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏ –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é
- **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å** - health checks —Ç–∞ auto-restart
- **–Ü–∑–æ–ª—è—Ü—ñ—è** - network —Ç–∞ resource isolation
- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** - health status —Ç–∞ resource usage

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ development —Ç–∞ testing. –î–ª—è production deployment —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –º—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ Kubernetes –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ orchestration, security —Ç–∞ scalability.

---

**–í–∏–∫–æ–Ω–∞–≤:** [–ü–Ü–ë]
**–ì—Ä—É–ø–∞:** [–ì—Ä—É–ø–∞]
**–î–∞—Ç–∞:** 2024-01-15
**–í–∏–∫–ª–∞–¥–∞—á:** –ú–∞–∑—É—Ä–µ–Ω–∫–æ –†.
