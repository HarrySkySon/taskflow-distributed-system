# Ğ—Ğ’Ğ†Ğ¢
# Ğ· Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ â„–6
# "Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—"

**Ğ”Ğ¸ÑÑ†Ğ¸Ğ¿Ğ»Ñ–Ğ½Ğ°:** ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ½Ğ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼

**Ğ¢ĞµĞ¼Ğ°:** Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾Ñ— Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ— Ñ‡ĞµÑ€ĞµĞ· Ğ±Ñ€Ğ¾ĞºĞµÑ€ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ RabbitMQ

**Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ²:** [ĞŸĞ†Ğ‘ ÑÑ‚ÑƒĞ´ĞµĞ½Ñ‚Ğ°]

**Ğ“Ñ€ÑƒĞ¿Ğ°:** [ĞĞ¾Ğ¼ĞµÑ€ Ğ³Ñ€ÑƒĞ¿Ğ¸]

**Ğ”Ğ°Ñ‚Ğ°:** [Ğ”Ğ°Ñ‚Ğ° Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ]

---

## Ğ—ĞœĞ†Ğ¡Ğ¢

1. [ĞœĞµÑ‚Ğ° Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸](#Ğ¼ĞµÑ‚Ğ°-Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸)
2. [Ğ¢ĞµĞ¾Ñ€ĞµÑ‚Ğ¸Ñ‡Ğ½Ñ– Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ¾ÑÑ‚Ñ–](#Ñ‚ĞµĞ¾Ñ€ĞµÑ‚Ğ¸Ñ‡Ğ½Ñ–-Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ¾ÑÑ‚Ñ–)
3. [ĞŸĞ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ñ–](#Ğ¿Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°-Ğ·Ğ°Ğ´Ğ°Ñ‡Ñ–)
4. [ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸](#Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸)
5. [Ğ¥Ñ–Ğ´ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸](#Ñ…Ñ–Ğ´-Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸)
6. [Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²](#Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²)
7. [Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ](#Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸-Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ)
8. [Ğ’Ğ¸ÑĞ½Ğ¾Ğ²ĞºĞ¸](#Ğ²Ğ¸ÑĞ½Ğ¾Ğ²ĞºĞ¸)
9. [Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¸Ñ… Ğ´Ğ¶ĞµÑ€ĞµĞ»](#ÑĞ¿Ğ¸ÑĞ¾Ğº-Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¸Ñ…-Ğ´Ğ¶ĞµÑ€ĞµĞ»)

---

## ĞœĞ•Ğ¢Ğ Ğ ĞĞ‘ĞĞ¢Ğ˜

ĞœĞµÑ‚Ğ¾Ñ Ğ´Ğ°Ğ½Ğ¾Ñ— Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ñ”:

1. Ğ’Ğ¸Ğ²Ñ‡ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ–Ğ² Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾Ñ— Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ— Ğ² Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ğ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ñ…
2. ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¸Ñ… Ğ½Ğ°Ğ²Ğ¸Ñ‡Ğ¾Ğº Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ· Ğ±Ñ€Ğ¾ĞºĞµÑ€Ğ¾Ğ¼ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ RabbitMQ
3. Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ¿Ğ°Ñ‚ĞµÑ€Ğ½Ñƒ Publisher-Subscriber Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ¿Ğ¾Ğ´Ñ–ÑĞ¼Ğ¸ Ğ¼Ñ–Ğ¶ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑĞ°Ğ¼Ğ¸
4. Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½ÑŒ, ÑĞºĞ° Ñ€ĞµĞ°Ğ³ÑƒÑ” Ğ½Ğ° Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ· Ñ–Ğ½ÑˆĞ¾Ğ³Ğ¾ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑÑƒ
5. ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Docker-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ— Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ğ³Ğ¾Ñ€Ñ‚Ğ°Ğ½Ğ½Ñ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ğ¾Ñ— ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸

---

## Ğ¢Ğ•ĞĞ Ğ•Ğ¢Ğ˜Ğ§ĞĞ† Ğ’Ğ†Ğ”ĞĞœĞĞ¡Ğ¢Ğ†

### 2.1 ĞœÑ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ° Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ Ğ² Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑĞ½Ñ–Ğ¹ Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ–

Ğ£ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑĞ½Ñ–Ğ¹ Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ– ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸ Ğ¿Ğ¾Ğ²Ğ¸Ğ½Ğ½Ñ– Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–ÑÑ‚Ğ¸ Ğ¾Ğ´Ğ¸Ğ½ Ğ· Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ğ´Ğ»Ñ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ğ±Ñ–Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ñ–ĞºĞ¸. Ğ†ÑĞ½ÑƒÑ” Ğ´Ğ²Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ñ… Ğ¿Ñ–Ğ´Ñ…Ğ¾Ğ´Ğ¸ Ğ´Ğ¾ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—:

#### 2.1.1 Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ° Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ

**Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸:**
- ĞšĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ¾Ñ‡Ñ–ĞºÑƒÑ” Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– Ğ²Ñ–Ğ´ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
- Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ” Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¸ HTTP/REST, gRPC
- ĞŸÑ€Ğ¾ÑÑ‚Ğ° Ñƒ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— Ñ‚Ğ° Ğ½Ğ°Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ–
- Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ” Ñ‰Ñ–Ğ»ÑŒĞ½Ğµ Ğ·Ğ²'ÑĞ·ÑƒĞ²Ğ°Ğ½Ğ½Ñ (tight coupling) Ğ¼Ñ–Ğ¶ ÑĞµÑ€Ğ²Ñ–ÑĞ°Ğ¼Ğ¸

**ĞĞµĞ´Ğ¾Ğ»Ñ–ĞºĞ¸:**
- Ğ‘Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°ÑÑ‡Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾ĞºÑƒ
- ĞšĞ°ÑĞºĞ°Ğ´Ğ½Ñ– Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¸ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ñ– ÑĞµÑ€Ğ²Ñ–ÑÑƒ
- Ğ¡ĞºĞ»Ğ°Ğ´Ğ½Ñ–ÑÑ‚ÑŒ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¸ Ğ²Ğ¸ÑĞ¾ĞºĞ¸Ñ… Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½ÑÑ…
- Ğ—Ğ°Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ¸ Ğ½Ğ°ĞºĞ¾Ğ¿Ğ¸Ñ‡ÑƒÑÑ‚ÑŒÑÑ Ğ¿Ñ€Ğ¸ Ğ»Ğ°Ğ½Ñ†ÑĞ¶ĞºĞ°Ñ… Ğ²Ğ¸ĞºĞ»Ğ¸ĞºÑ–Ğ²

#### 2.1.2 ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ° Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ

**Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸:**
- ĞšĞ»Ñ–Ñ”Ğ½Ñ‚ Ğ½Ğµ Ğ¾Ñ‡Ñ–ĞºÑƒÑ” Ğ¼Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¾Ñ— Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–
- Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ” Ñ‡ĞµÑ€Ğ³Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ (Message Queues)
- Ğ¡Ğ»Ğ°Ğ±ĞºĞµ Ğ·Ğ²'ÑĞ·ÑƒĞ²Ğ°Ğ½Ğ½Ñ (loose coupling) Ğ¼Ñ–Ğ¶ ÑĞµÑ€Ğ²Ñ–ÑĞ°Ğ¼Ğ¸
- ĞŸÑ–Ğ´Ğ²Ğ¸Ñ‰ĞµĞ½Ğ° Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¾ÑÑ‚Ñ–Ğ¹ĞºÑ–ÑÑ‚ÑŒ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸

**ĞŸĞµÑ€ĞµĞ²Ğ°Ğ³Ğ¸:**
- ĞĞµĞ·Ğ°Ğ»ĞµĞ¶Ğ½Ñ–ÑÑ‚ÑŒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²
- ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ¿Ñ–ĞºÑ–Ğ² Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ (buffering)
- ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ° Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ… ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ñ–Ğ²
- Ğ’Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¾ÑÑ‚Ñ–Ğ¹ĞºÑ–ÑÑ‚ÑŒ (fault tolerance)

### 2.2 Ğ‘Ñ€Ğ¾ĞºĞµÑ€ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ RabbitMQ

**RabbitMQ** â€” Ñ†Ğµ Ğ±Ñ€Ğ¾ĞºĞµÑ€ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Ğ· Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸Ğ¼ ĞºĞ¾Ğ´Ğ¾Ğ¼, ÑĞºĞ¸Ğ¹ Ñ€ĞµĞ°Ğ»Ñ–Ğ·ÑƒÑ” Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» AMQP (Advanced Message Queuing Protocol).

#### 2.2.1 ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸ RabbitMQ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Producer â”‚â”€â”€â”€â”€â”€â–¶â”‚ Exchangeâ”‚â”€â”€â”€â”€â”€â–¶â”‚Bindingâ”‚â”€â”€â”€â”€â”€â–¶â”‚  Queue  â”‚â”€â”€â”€â”€â”€â–¶â”‚ Consumer â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. **Producer (Ğ’Ğ¸Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğº)** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº, Ñ‰Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
2. **Exchange (ĞĞ±Ğ¼Ñ–Ğ½Ğ½Ğ¸Ğº)** â€” Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·ÑƒÑ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ´Ğ¾ Ñ‡ĞµÑ€Ğ³ Ğ·Ğ³Ñ–Ğ´Ğ½Ğ¾ Ğ· Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼Ğ¸
3. **Binding (Ğ—Ğ²'ÑĞ·Ğ¾Ğº)** â€” Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ— Ğ¼Ñ–Ğ¶ exchange Ñ‚Ğ° queue
4. **Queue (Ğ§ĞµÑ€Ğ³Ğ°)** â€” Ğ±ÑƒÑ„ĞµÑ€, Ñ‰Ğ¾ Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
5. **Consumer (Ğ¡Ğ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡)** â€” Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº, Ñ‰Ğ¾ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ” Ñ‚Ğ° Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ÑÑ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ

#### 2.2.2 Ğ¢Ğ¸Ğ¿Ğ¸ Exchange

1. **Direct** â€” Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ·Ğ° Ñ‚Ğ¾Ñ‡Ğ½Ğ¸Ğ¼ Ğ·Ğ±Ñ–Ğ³Ğ¾Ğ¼ routing key
2. **Fanout** â€” Ñ€Ğ¾Ğ·ÑĞ¸Ğ»ĞºĞ° Ğ²ÑÑ–Ğ¼ Ğ¿Ğ¾Ğ²'ÑĞ·Ğ°Ğ½Ğ¸Ğ¼ Ñ‡ĞµÑ€Ğ³Ğ°Ğ¼ (broadcast)
3. **Topic** â€” Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ·Ğ° ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ¼ routing key
4. **Headers** â€” Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ·Ğ° Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°Ğ¼Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ

#### 2.2.3 Ğ’Ğ»Ğ°ÑÑ‚Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– Ñ‡ĞµÑ€Ğ³

- **Durable** â€” Ñ‡ĞµÑ€Ğ³Ğ° Ğ¿ĞµÑ€ĞµĞ¶Ğ¸Ğ²Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº RabbitMQ
- **Exclusive** â€” Ñ‡ĞµÑ€Ğ³Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ
- **Auto-delete** â€” Ñ‡ĞµÑ€Ğ³Ğ° Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ”Ñ‚ÑŒÑÑ, ĞºĞ¾Ğ»Ğ¸ Ğ²ÑÑ– ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ñ– Ğ²Ñ–Ğ´ĞºĞ»ÑÑ‡Ğ°ÑÑ‚ÑŒÑÑ
- **Message TTL** â€” Ñ‡Ğ°Ñ Ğ¶Ğ¸Ñ‚Ñ‚Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Ñƒ Ñ‡ĞµÑ€Ğ·Ñ–

#### 2.2.4 ĞŸÑ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ (Acknowledgments)

- **Auto-ack** â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ¿Ñ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ–
- **Manual-ack** â€” Ğ¿Ñ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ğ¿Ñ–ÑĞ»Ñ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾Ñ— Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸
- **Negative-ack (NACK)** â€” Ğ²Ñ–Ğ´Ñ…Ğ¸Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ· Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ— Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸

### 2.3 ĞŸĞ°Ñ‚ĞµÑ€Ğ½ Publisher-Subscriber

**Publisher-Subscriber** (Pub/Sub) â€” Ñ†Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½ Ğ¾Ğ±Ğ¼Ñ–Ğ½Ñƒ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½ÑĞ¼Ğ¸, Ğ´Ğµ Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ½Ğ¸ĞºĞ¸ (publishers) Ğ½Ğµ Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ½Ğ° Ğ½Ğ°Ğ´ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¸Ğ¼ Ğ¾Ğ´ĞµÑ€Ğ¶ÑƒĞ²Ğ°Ñ‡Ğ°Ğ¼ (subscribers).

#### 2.3.1 ĞŸĞµÑ€ĞµĞ²Ğ°Ğ³Ğ¸ Ğ¿Ğ°Ñ‚ĞµÑ€Ğ½Ñƒ:

1. **Ğ¡Ğ»Ğ°Ğ±ĞºĞµ Ğ·Ğ²'ÑĞ·ÑƒĞ²Ğ°Ğ½Ğ½Ñ** â€” publisher Ğ½Ğµ Ğ·Ğ½Ğ°Ñ” Ğ¿Ñ€Ğ¾ Ñ–ÑĞ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ subscribers
2. **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¾Ğ²Ğ°Ğ½Ñ–ÑÑ‚ÑŒ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ğ¸Ñ… subscribers
3. **Ğ“Ğ½ÑƒÑ‡ĞºÑ–ÑÑ‚ÑŒ** â€” Ğ·Ğ¼Ñ–Ğ½Ğ° Ğ±Ñ–Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ñ–ĞºĞ¸ Ğ±ĞµĞ· Ğ·Ğ¼Ñ–Ğ½Ğ¸ publishers
4. **ĞŸĞ°Ñ€Ğ°Ğ»ĞµĞ»Ñ–Ğ·Ğ¼** â€” Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ñ– subscribers Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¾

#### 2.3.2 ĞĞµĞ´Ğ¾Ğ»Ñ–ĞºĞ¸:

1. Ğ¡ĞºĞ»Ğ°Ğ´Ğ½Ñ–ÑÑ‚ÑŒ Ğ½Ğ°Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ
2. ĞĞµĞ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ñƒ Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… subscribers
3. ĞŸĞ¾Ñ‚Ñ€ĞµĞ±Ğ° Ğ² Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ Ñ‚Ğ° Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ–

### 2.4 Event-Driven Architecture (EDA)

**ĞŸĞ¾Ğ´Ñ–Ñ”Ğ²Ğ¾-Ğ¾Ñ€Ñ–Ñ”Ğ½Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°** â€” Ñ†Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ´Ğ¸Ğ³Ğ¼Ğ°, Ğ´Ğµ Ğ¿Ğ¾Ñ‚Ñ–Ğº Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¸ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ¿Ğ¾Ğ´Ñ–ÑĞ¼Ğ¸.

#### 2.4.1 ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ñ–Ñ—:

1. **Event (ĞŸĞ¾Ğ´Ñ–Ñ)** â€” Ğ·Ğ½Ğ°Ñ‡ÑƒÑ‰Ğ° Ğ·Ğ¼Ñ–Ğ½Ğ° ÑÑ‚Ğ°Ğ½Ñƒ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸
2. **Event Producer** â€” Ğ³ĞµĞ½ĞµÑ€ÑƒÑ” Ğ¿Ğ¾Ğ´Ñ–Ñ—
3. **Event Consumer** â€” Ñ€ĞµĞ°Ğ³ÑƒÑ” Ğ½Ğ° Ğ¿Ğ¾Ğ´Ñ–Ñ—
4. **Event Channel** â€” Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ÑƒÑ” Ğ¿Ğ¾Ğ´Ñ–Ñ— (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, RabbitMQ)

#### 2.4.2 Ğ¢Ğ¸Ğ¿Ğ¸ Ğ¿Ğ¾Ğ´Ñ–Ğ¹:

1. **Domain Events** â€” Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ±Ñ–Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ñ–ĞºĞ¸ (Ğ½Ğ°Ğ¿Ñ€., "Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾")
2. **Integration Events** â€” Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ´Ğ»Ñ Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ— Ğ¼Ñ–Ğ¶ bounded contexts
3. **System Events** â€” Ñ‚ĞµÑ…Ğ½Ñ–Ñ‡Ğ½Ñ– Ğ¿Ğ¾Ğ´Ñ–Ñ— (Ğ½Ğ°Ğ¿Ñ€., "ÑĞµÑ€Ğ²Ñ–Ñ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾")

### 2.5 Docker Ñ‚Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ

**Docker** â€” Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ¸, Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ñ‚Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºÑ–Ğ² Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°Ñ….

#### 2.5.1 Docker Compose

**Docker Compose** â€” Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ Ğ±Ğ°Ğ³Ğ°Ñ‚Ğ¾ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ½Ğ¸Ñ… Docker-Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºÑ–Ğ².

**ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–:**
- Ğ”ĞµĞºĞ»Ğ°Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ Ñ–Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸ (YAML)
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ¶Ğ¸Ñ‚Ñ‚Ñ”Ğ²Ğ¸Ğ¼ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ–Ğ²
- ĞœĞµÑ€ĞµĞ¶ĞµĞ²Ñ– Ğ·Ğ²'ÑĞ·ĞºĞ¸ Ğ¼Ñ–Ğ¶ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°Ğ¼Ğ¸
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ volumes Ğ´Ğ»Ñ Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚Ñ– Ğ´Ğ°Ğ½Ğ¸Ñ…

---

## ĞŸĞĞ¡Ğ¢ĞĞĞĞ’ĞšĞ Ğ—ĞĞ”ĞĞ§Ğ†

### 3.1 Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ° Ğ¿Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

ĞĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ğ¾ Ñ€Ğ¾Ğ·ÑˆĞ¸Ñ€Ğ¸Ñ‚Ğ¸ Ñ–ÑĞ½ÑƒÑÑ‡Ñƒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ğ¼Ğ¸ **TaskFlow** Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ğ¸Ğ¼ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑĞ¾Ğ¼ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½ÑŒ, ÑĞºĞ¸Ğ¹ Ğ±ÑƒĞ´Ğµ Ñ€ĞµĞ°Ğ³ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ½Ğ° Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ· Projects Service Ñ‡ĞµÑ€ĞµĞ· Ğ±Ñ€Ğ¾ĞºĞµÑ€ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ RabbitMQ.

### 3.2 Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

1. **Projects Service** Ğ¼Ğ°Ñ” Ğ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ¿Ñ€Ğ¸:
   - Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ– Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ (project.created)
   - ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ– Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ (project.updated)
   - Ğ’Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ– Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ (project.deleted)

2. **Notifications Service** Ğ¼Ğ°Ñ”:
   - ĞŸÑ–Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ÑÑ Ğ½Ğ° Ñ‡ĞµÑ€Ğ³Ñƒ Ğ¿Ğ¾Ğ´Ñ–Ğ¹ RabbitMQ
   - ĞĞ±Ñ€Ğ¾Ğ±Ğ»ÑÑ‚Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ñ– Ğ¿Ğ¾Ğ´Ñ–Ñ—
   - Ğ›Ğ¾Ğ³ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ Ğ¿Ğ¾Ğ´Ñ–Ñ— Ñƒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ¾Ğ¼Ñƒ Ğ²Ğ¸Ğ³Ğ»ÑĞ´Ñ–

3. **RabbitMQ** Ğ¼Ğ°Ñ”:
   - Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ñƒ durable Ñ‡ĞµÑ€Ğ·Ñ–
   - Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºÑƒ Ñ‡ĞµÑ€ĞµĞ· persistent messages
   - ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¼ĞµÑ…Ğ°Ğ½Ñ–Ğ·Ğ¼ Ğ¿Ñ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ½Ñ (acknowledgments)

### 3.3 ĞĞµÑ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

1. **ĞĞ°Ğ´Ñ–Ğ¹Ğ½Ñ–ÑÑ‚ÑŒ:**
   - Retry logic Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ñ– RabbitMQ
   - Graceful degradation (ÑĞµÑ€Ğ²Ñ–ÑĞ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ Ğ±ĞµĞ· RabbitMQ)
   - Manual acknowledgment Ğ´Ğ»Ñ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ñ–Ñ— Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸

2. **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¾Ğ²Ğ°Ğ½Ñ–ÑÑ‚ÑŒ:**
   - ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ğ¸Ñ… ĞµĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ñ–Ğ² Notifications Service
   - ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ±ĞµĞ· Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ

3. **ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³:**
   - Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğµ Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ğ´Ñ–Ğ¹
   - Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ RabbitMQ Management UI

4. **Deployment:**
   - Docker-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ğ²ÑÑ–Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²
   - ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ Ñ‡ĞµÑ€ĞµĞ· Docker Compose
   - Health checks Ğ´Ğ»Ñ ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²

---

## ĞĞ Ğ¥Ğ†Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ˜

### 4.1 Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ° Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TaskFlow System                             â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Client     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ API Gateway  â”‚         â”‚  Database   â”‚â”‚
â”‚  â”‚  (Browser)   â”‚  HTTP   â”‚   (Future)   â”‚         â”‚ (PostgreSQL)â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                  â”‚                         â”‚       â”‚
â”‚                                  â”‚ HTTP                    â”‚       â”‚
â”‚                                  â–¼                         â”‚       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚       â”‚
â”‚                    â”‚   Projects Service       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                    â”‚   (Port 4002)            â”‚                   â”‚
â”‚                    â”‚                          â”‚                   â”‚
â”‚                    â”‚  - CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ—         â”‚                   â”‚
â”‚                    â”‚  - Event Publisher       â”‚                   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                 â”‚                                  â”‚
â”‚                                 â”‚ AMQP                             â”‚
â”‚                                 â”‚ (Events)                         â”‚
â”‚                                 â–¼                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                    â”‚      RabbitMQ            â”‚                   â”‚
â”‚                    â”‚   (Ports 5672, 15672)    â”‚                   â”‚
â”‚                    â”‚                          â”‚                   â”‚
â”‚                    â”‚  - Queue: project_events â”‚                   â”‚
â”‚                    â”‚  - Durable: true         â”‚                   â”‚
â”‚                    â”‚  - Persistent messages   â”‚                   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                 â”‚                                  â”‚
â”‚                                 â”‚ AMQP                             â”‚
â”‚                                 â”‚ (Events)                         â”‚
â”‚                                 â–¼                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                    â”‚ Notifications Service    â”‚                   â”‚
â”‚                    â”‚   (Port 4004)            â”‚                   â”‚
â”‚                    â”‚                          â”‚                   â”‚
â”‚                    â”‚  - Event Consumer        â”‚                   â”‚
â”‚                    â”‚  - Notification Logic    â”‚                   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ĞŸĞ¾Ñ‚Ñ–Ğº Ğ´Ğ°Ğ½Ğ¸Ñ…

#### 4.2.1 Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚      â”‚   Projects   â”‚      â”‚ RabbitMQ â”‚      â”‚ Notifications   â”‚
â”‚         â”‚      â”‚   Service    â”‚      â”‚          â”‚      â”‚    Service      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚ POST /projects   â”‚                   â”‚                     â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚                     â”‚
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚                  â”‚ INSERT INTO DB    â”‚                     â”‚
     â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                     â”‚
     â”‚                  â”‚          â”‚        â”‚                     â”‚
     â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                     â”‚
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚                  â”‚ publishEvent()    â”‚                     â”‚
     â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                     â”‚
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚  201 Created     â”‚                   â”‚ consume event       â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚                  â”‚                   â”‚                     â”‚ processEvent()
     â”‚                  â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                  â”‚                   â”‚                     â”‚        â”‚
     â”‚                  â”‚                   â”‚                     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚                  â”‚                   â”‚    ACK              â”‚
     â”‚                  â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                  â”‚                   â”‚                     â”‚
     â”‚                  â”‚                   â”‚                     â”‚ Log notification
     â”‚                  â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                  â”‚                   â”‚                     â”‚        â”‚
     â”‚                  â”‚                   â”‚                     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²

#### 4.3.1 Projects Service

```
projects-service/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.ts          # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ PostgreSQL
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ project.controller.ts # CRUD + Event Publishing
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ project.model.ts      # TypeScript Ñ‚Ğ¸Ğ¿Ğ¸
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ project.routes.ts     # Express Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ eventPublisher.ts     # RabbitMQ Publisher
â”‚   â”œâ”€â”€ app.ts                    # Express application
â”‚   â””â”€â”€ server.ts                 # Entry point
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

#### 4.3.2 Notifications Service

```
notifications-service/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ rabbitmq.ts           # RabbitMQ ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ
â”‚   â”œâ”€â”€ consumers/
â”‚   â”‚   â””â”€â”€ project.consumer.ts   # Event Consumer
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ notification.service.ts # Ğ‘Ñ–Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ñ–ĞºĞ°
â”‚   â”œâ”€â”€ app.ts                    # Express application
â”‚   â””â”€â”€ server.ts                 # Entry point + Consumer startup
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

---

## Ğ¥Ğ†Ğ” Ğ ĞĞ‘ĞĞ¢Ğ˜

### 5.1 Ğ•Ñ‚Ğ°Ğ¿ 1: Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Notifications Service

#### 5.1.1 Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ

```bash
mkdir notifications-service
cd notifications-service
npm init -y
```

#### 5.1.2 Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚ĞµĞ¹

```bash
npm install express amqplib dotenv cors morgan
npm install -D @types/express @types/node @types/amqplib @types/cors @types/morgan typescript ts-node-dev
```

#### 5.1.3 ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ TypeScript (tsconfig.json)

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

### 5.2 Ğ•Ñ‚Ğ°Ğ¿ 2: ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ RabbitMQ Ñƒ Docker Compose

ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ Ñ„Ğ°Ğ¹Ğ» `docker-compose.yml` Ğ· Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½ÑĞ¼ RabbitMQ ÑĞµÑ€Ğ²Ñ–ÑÑƒ:

```yaml
services:
  rabbitmq:
    image: rabbitmq:3.12-management-alpine
    container_name: rabbitmq
    ports:
      - "5672:5672"     # AMQP protocol
      - "15672:15672"   # Management UI
    environment:
      RABBITMQ_DEFAULT_USER: guest
      RABBITMQ_DEFAULT_PASS: guest
    volumes:
      - rabbitmq_data:/var/lib/rabbitmq
    healthcheck:
      test: ["CMD", "rabbitmq-diagnostics", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - taskflow-network
```

**ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ:**
- **Ports:** 5672 Ğ´Ğ»Ñ AMQP Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñƒ, 15672 Ğ´Ğ»Ñ Ğ²ĞµĞ±-Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ
- **Health check:** Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ñ– RabbitMQ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¸Ñ… ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²
- **Volume:** Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ¸Ñ… RabbitMQ
- **Network:** Ñ–Ğ·Ğ¾Ğ»ÑŒĞ¾Ğ²Ğ°Ğ½Ğ° Ğ¼ĞµÑ€ĞµĞ¶Ğ° Ğ´Ğ»Ñ Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ— ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²

### 5.3 Ğ•Ñ‚Ğ°Ğ¿ 3: ĞœĞ¾Ğ´Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ Projects Service

#### 5.3.1 Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ amqplib

```bash
cd projects-service
npm install amqplib
npm install -D @types/amqplib
```

#### 5.3.2 ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ docker-compose.yml Ğ´Ğ»Ñ Projects Service

```yaml
projects-service:
  environment:
    RABBITMQ_URL: amqp://guest:guest@rabbitmq:5672
    QUEUE_NAME: project_events
  depends_on:
    rabbitmq:
      condition: service_healthy
```

**ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ:**
- `depends_on` Ğ· ÑƒĞ¼Ğ¾Ğ²Ğ¾Ñ `service_healthy` Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ”, Ñ‰Ğ¾ RabbitMQ Ğ±ÑƒĞ´Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ Projects Service

### 5.4 Ğ•Ñ‚Ğ°Ğ¿ 4: Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Notifications Service Ğ´Ğ¾ Docker Compose

```yaml
notifications-service:
  build:
    context: ./notifications-service
    dockerfile: Dockerfile
  container_name: notifications-service
  environment:
    PORT: 4004
    RABBITMQ_URL: amqp://guest:guest@rabbitmq:5672
    QUEUE_NAME: project_events
    NODE_ENV: production
  ports:
    - "4004:4004"
  depends_on:
    rabbitmq:
      condition: service_healthy
  networks:
    - taskflow-network
  restart: unless-stopped
```

---

## Ğ Ğ•ĞĞ›Ğ†Ğ—ĞĞ¦Ğ†Ğ¯ ĞšĞĞœĞŸĞĞĞ•ĞĞ¢Ğ†Ğ’

### 6.1 Projects Service: Event Publisher

#### 6.1.1 eventPublisher.ts

```typescript
import * as amqp from 'amqplib';

let connection: any = null;
let channel: any = null;

const QUEUE_NAME = process.env.QUEUE_NAME || 'project_events';

export const connectRabbitMQ = async (): Promise<void> => {
  try {
    const rabbitmqUrl = process.env.RABBITMQ_URL || 'amqp://guest:guest@localhost:5672';

    console.log(`Connecting to RabbitMQ at ${rabbitmqUrl}...`);

    // Retry logic Ğ´Ğ»Ñ ÑÑ‚Ñ–Ğ¹ĞºĞ¾ÑÑ‚Ñ– Ğ´Ğ¾ Ñ‚Ğ¸Ğ¼Ñ‡Ğ°ÑĞ¾Ğ²Ğ¸Ñ… Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²
    let retries = 5;
    while (retries > 0) {
      try {
        connection = await amqp.connect(rabbitmqUrl);
        break;
      } catch (error) {
        retries--;
        if (retries === 0) throw error;
        console.log(`RabbitMQ connection failed. Retrying... (${retries} left)`);
        await new Promise(resolve => setTimeout(resolve, 5000));
      }
    }

    if (!connection) {
      throw new Error('Failed to connect to RabbitMQ');
    }

    console.log('Connected to RabbitMQ');

    if (connection) {
      channel = await connection.createChannel();

      // Ğ”ĞµĞºĞ»Ğ°Ñ€Ğ°Ñ†Ñ–Ñ durable Ñ‡ĞµÑ€Ğ³Ğ¸
      await channel.assertQueue(QUEUE_NAME, {
        durable: true,  // Ğ§ĞµÑ€Ğ³Ğ° Ğ¿ĞµÑ€ĞµĞ¶Ğ¸Ğ²Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº RabbitMQ
      });

      console.log(`RabbitMQ channel created and queue '${QUEUE_NAME}' ready`);
    }

    // ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ
    connection.on('error', (err: any) => {
      console.error('RabbitMQ connection error:', err);
    });

    connection.on('close', () => {
      console.log('RabbitMQ connection closed');
    });

  } catch (error) {
    console.error('Failed to connect to RabbitMQ:', error);
    console.log('Service will continue without event publishing');
  }
};

export const publishEvent = async (eventType: string, data: any): Promise<void> => {
  try {
    if (!channel) {
      console.warn('RabbitMQ channel not available. Event not published.');
      return;
    }

    const event = {
      event: eventType,
      timestamp: new Date().toISOString(),
      data: data,
    };

    const message = Buffer.from(JSON.stringify(event));

    // ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ· persistent: true Ğ´Ğ»Ñ Ğ½Ğ°Ğ´Ñ–Ğ¹Ğ½Ğ¾ÑÑ‚Ñ–
    channel.sendToQueue(QUEUE_NAME, message, {
      persistent: true,  // ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµÑ‚ÑŒÑÑ Ğ½Ğ° Ğ´Ğ¸ÑĞºÑƒ
    });

    console.log(`ğŸ“¤ Event published: ${eventType}`, data);

  } catch (error) {
    console.error('Error publishing event:', error);
  }
};

export const closeRabbitMQ = async (): Promise<void> => {
  try {
    if (channel) {
      await channel.close();
    }
    if (connection) {
      await connection.close();
    }
    console.log('RabbitMQ connection closed');
  } catch (error) {
    console.error('Error closing RabbitMQ connection:', error);
  }
};
```

**ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¾ÑĞ¾Ğ±Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—:**

1. **Retry Logic:** 5 ÑĞ¿Ñ€Ğ¾Ğ± Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ Ğ· Ğ·Ğ°Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ¾Ñ 5 ÑĞµĞºÑƒĞ½Ğ´
2. **Durable Queue:** Ñ‡ĞµÑ€Ğ³Ğ° Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºÑƒ RabbitMQ
3. **Persistent Messages:** Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°ÑÑ‚ÑŒÑÑ Ğ½Ğ° Ğ´Ğ¸ÑĞºÑƒ
4. **Graceful Degradation:** ÑĞµÑ€Ğ²Ñ–Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ÑƒÑ” Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸ Ğ½Ğ°Ğ²Ñ–Ñ‚ÑŒ Ğ±ĞµĞ· RabbitMQ
5. **Error Handling:** Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº Ğ±ĞµĞ· Ğ¿Ğ°Ğ´Ñ–Ğ½Ğ½Ñ ÑĞµÑ€Ğ²Ñ–ÑÑƒ

#### 6.1.2 Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ Ğ² project.controller.ts

```typescript
import { Request, Response } from 'express';
import { query } from '../config/database';
import { CreateProjectDTO, UpdateProjectDTO } from '../models/project.model';
import { publishEvent } from '../utils/eventPublisher';

export class ProjectController {
  async createProject(req: Request, res: Response): Promise<void> {
    try {
      const projectData: CreateProjectDTO = req.body;

      if (!projectData.name || !projectData.owner_id) {
        res.status(400).json({
          success: false,
          message: 'Name and owner_id are required'
        });
        return;
      }

      const result = await query(
        `INSERT INTO projects (name, description, owner_id, start_date, end_date, deadline, priority)
         VALUES ($1, $2, $3, $4, $5, $6, $7)
         RETURNING *`,
        [
          projectData.name,
          projectData.description || null,
          projectData.owner_id,
          projectData.start_date || null,
          projectData.end_date || null,
          projectData.deadline || null,
          projectData.priority || 'medium'
        ]
      );

      const newProject = result.rows[0];

      // ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğµ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ²Ğ»Ğ°ÑĞ½Ğ¸ĞºĞ° ÑĞº Ñ‡Ğ»ĞµĞ½Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ
      await query(
        `INSERT INTO project_members (project_id, user_id, role)
         VALUES ($1, $2, $3)`,
        [newProject.id, projectData.owner_id, 'owner']
      );

      // ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ´Ñ–Ñ— project.created
      await publishEvent('project.created', newProject);

      res.status(201).json({
        success: true,
        message: 'Project created successfully',
        data: newProject
      });
    } catch (error: any) {
      console.error('Error in createProject:', error);
      res.status(500).json({
        success: false,
        message: 'Internal server error',
        error: error.message
      });
    }
  }

  async updateProject(req: Request, res: Response): Promise<void> {
    try {
      const { id } = req.params;
      const updateData: UpdateProjectDTO = req.body;

      // ... Ğ»Ğ¾Ğ³Ñ–ĞºĞ° Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ...

      const updatedProject = result.rows[0];

      // ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ´Ñ–Ñ— project.updated
      await publishEvent('project.updated', updatedProject);

      res.status(200).json({
        success: true,
        message: 'Project updated successfully',
        data: updatedProject
      });
    } catch (error: any) {
      // ... Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº ...
    }
  }

  async deleteProject(req: Request, res: Response): Promise<void> {
    try {
      const { id } = req.params;

      const checkResult = await query('SELECT * FROM projects WHERE id = $1', [id]);

      if (checkResult.rowCount === 0) {
        res.status(404).json({
          success: false,
          message: 'Project not found'
        });
        return;
      }

      const deletedProject = checkResult.rows[0];

      await query('DELETE FROM projects WHERE id = $1', [id]);

      // ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ´Ñ–Ñ— project.deleted
      await publishEvent('project.deleted', {
        id: deletedProject.id,
        name: deletedProject.name
      });

      res.status(200).json({
        success: true,
        message: 'Project deleted successfully'
      });
    } catch (error: any) {
      // ... Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº ...
    }
  }
}
```

**ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ:**
- ĞŸĞ¾Ğ´Ñ–Ñ— Ğ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒÑÑ‚ÑŒÑÑ **Ğ¿Ñ–ÑĞ»Ñ** ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ— Ğ² Ğ‘Ğ”
- Ğ£ Ğ²Ğ¸Ğ¿Ğ°Ğ´ĞºÑƒ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ—, Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ° Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ²Ğ¶Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°
- Ğ¦Ğµ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€ÑƒÑ” Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ "eventual consistency"

#### 6.1.3 Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ² server.ts

```typescript
import app from './app';
import { initDatabase } from './config/database';
import { connectRabbitMQ, closeRabbitMQ } from './utils/eventPublisher';
import dotenv from 'dotenv';

dotenv.config();

const PORT = process.env.PORT || 4002;

const startServer = async () => {
  try {
    console.log('Initializing database...');
    await initDatabase();
    console.log('Database initialized successfully');

    console.log('Connecting to RabbitMQ...');
    await connectRabbitMQ();

    app.listen(PORT, () => {
      console.log(`Projects Service is running on port ${PORT}`);
      console.log(`Health check: http://localhost:${PORT}/health`);
      console.log(`API endpoints: http://localhost:${PORT}/api/projects`);
    });
  } catch (error) {
    console.error('Failed to start server:', error);
    process.exit(1);
  }
};

// Graceful shutdown
process.on('SIGTERM', async () => {
  console.log('SIGTERM signal received: closing RabbitMQ connection');
  await closeRabbitMQ();
  process.exit(0);
});

process.on('SIGINT', async () => {
  console.log('SIGINT signal received: closing RabbitMQ connection');
  await closeRabbitMQ();
  process.exit(0);
});

startServer();
```

**ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ:**
- RabbitMQ Ñ–Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·ÑƒÑ”Ñ‚ÑŒÑÑ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ñ– ÑĞµÑ€Ğ²ĞµÑ€Ğ°
- Graceful shutdown Ğ·Ğ°ĞºÑ€Ğ¸Ğ²Ğ°Ñ” Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½ÑĞ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑƒ
- SIGTERM/SIGINT Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ½Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ Ğ² Docker

### 6.2 Notifications Service: Event Consumer

#### 6.2.1 rabbitmq.ts (ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ)

```typescript
import * as amqp from 'amqplib';
import dotenv from 'dotenv';

dotenv.config();

let connection: any = null;
let channel: any = null;

export const connectRabbitMQ = async (): Promise<any> => {
  try {
    const rabbitmqUrl = process.env.RABBITMQ_URL || 'amqp://guest:guest@localhost:5672';

    console.log(`Connecting to RabbitMQ at ${rabbitmqUrl}...`);
    connection = await amqp.connect(rabbitmqUrl);

    console.log('Connected to RabbitMQ');

    if (connection) {
      channel = await connection.createChannel();
      console.log('RabbitMQ channel created');

      connection.on('error', (err: any) => {
        console.error('RabbitMQ connection error:', err);
      });

      connection.on('close', () => {
        console.log('RabbitMQ connection closed');
      });
    }

    if (!channel) {
      throw new Error('Failed to create RabbitMQ channel');
    }

    return channel;
  } catch (error) {
    console.error('Failed to connect to RabbitMQ:', error);
    throw error;
  }
};

export const getChannel = (): any => {
  if (!channel) {
    throw new Error('RabbitMQ channel not initialized');
  }
  return channel;
};

export const closeRabbitMQ = async (): Promise<void> => {
  try {
    if (channel) {
      await channel.close();
      console.log('RabbitMQ channel closed');
    }
    if (connection) {
      await connection.close();
      console.log('RabbitMQ connection closed');
    }
  } catch (error) {
    console.error('Error closing RabbitMQ connection:', error);
    throw error;
  }
};
```

#### 6.2.2 notification.service.ts (Ğ±Ñ–Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ñ–ĞºĞ°)

```typescript
interface ProjectEvent {
  event: string;
  timestamp: string;
  data: any;
}

export class NotificationService {
  async processEvent(event: ProjectEvent): Promise<void> {
    console.log(`ğŸ“© Event received: ${event.event}`);

    switch (event.event) {
      case 'project.created':
        await this.processProjectCreated(event);
        break;
      case 'project.updated':
        await this.processProjectUpdated(event);
        break;
      case 'project.deleted':
        await this.processProjectDeleted(event);
        break;
      default:
        console.warn(`Unknown event type: ${event.event}`);
    }
  }

  private async processProjectCreated(event: ProjectEvent): Promise<void> {
    console.log('ğŸ“§ NEW NOTIFICATION');
    console.log('========================================');
    console.log(`Project: ${event.data.name}`);
    console.log(`Description: ${event.data.description || 'N/A'}`);
    console.log(`Owner ID: ${event.data.owner_id}`);
    console.log(`Priority: ${event.data.priority}`);
    console.log(`Start Date: ${event.data.start_date || 'N/A'}`);
    console.log(`Deadline: ${event.data.deadline || 'N/A'}`);
    console.log('========================================');

    // Ğ¢ÑƒÑ‚ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ»Ğ¾Ğ³Ñ–ĞºĞ° Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ email, push-ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½ÑŒ, Ñ‚Ğ¾Ñ‰Ğ¾
  }

  private async processProjectUpdated(event: ProjectEvent): Promise<void> {
    console.log('ğŸ”„ PROJECT UPDATE NOTIFICATION');
    console.log('========================================');
    console.log(`Project: ${event.data.name}`);
    console.log(`Status: ${event.data.status}`);
    console.log(`Priority: ${event.data.priority}`);
    console.log(`Updated: ${event.timestamp}`);
    console.log('========================================');
  }

  private async processProjectDeleted(event: ProjectEvent): Promise<void> {
    console.log('ğŸ—‘ï¸  PROJECT DELETION NOTIFICATION');
    console.log('========================================');
    console.log(`Project ID: ${event.data.id}`);
    console.log(`Project Name: ${event.data.name}`);
    console.log(`Deleted at: ${event.timestamp}`);
    console.log('========================================');
  }
}
```

**ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ:**
- Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´ `processEvent()` Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·ÑƒÑ” Ğ¿Ğ¾Ğ´Ñ–Ñ—
- ĞĞºÑ€ĞµĞ¼Ñ– Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¸ Ğ´Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ Ñ‚Ğ¸Ğ¿Ñƒ Ğ¿Ğ¾Ğ´Ñ–Ñ—
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ²Ñ–Ğ´ Ğ´Ğ»Ñ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ—
- Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ¸ Ğ´Ğ»Ñ Ğ¼Ğ°Ğ¹Ğ±ÑƒÑ‚Ğ½ÑŒĞ¾Ñ— Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ— (email, SMS, push)

#### 6.2.3 project.consumer.ts (ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ Ğ¿Ğ¾Ğ´Ñ–Ğ¹)

```typescript
import { connectRabbitMQ } from '../config/rabbitmq';
import { NotificationService } from '../services/notification.service';

const QUEUE_NAME = process.env.QUEUE_NAME || 'project_events';

export class ProjectConsumer {
  private notificationService: NotificationService;

  constructor() {
    this.notificationService = new NotificationService();
  }

  async start(): Promise<void> {
    try {
      console.log('Starting Project Event Consumer...');

      // Retry logic Ğ´Ğ»Ñ ÑÑ‚Ñ–Ğ¹ĞºĞ¾ÑÑ‚Ñ–
      let retries = 5;
      let channel: any;

      while (retries > 0) {
        try {
          channel = await connectRabbitMQ();
          break;
        } catch (error) {
          retries--;
          if (retries === 0) throw error;
          console.log(`Failed to connect. Retrying... (${retries} left)`);
          await new Promise(resolve => setTimeout(resolve, 5000));
        }
      }

      // Ğ”ĞµĞºĞ»Ğ°Ñ€Ğ°Ñ†Ñ–Ñ durable Ñ‡ĞµÑ€Ğ³Ğ¸
      await channel.assertQueue(QUEUE_NAME, {
        durable: true,
      });

      console.log(`Waiting for messages in queue: ${QUEUE_NAME}`);

      // ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ prefetch Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
      channel.prefetch(1);

      // Ğ¡Ğ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ½Ñ Ğ· manual acknowledgment
      channel.consume(
        QUEUE_NAME,
        async (msg: any) => {
          if (msg !== null) {
            try {
              const event = JSON.parse(msg.content.toString());

              // ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ´Ñ–Ñ—
              await this.notificationService.processEvent(event);

              // Manual acknowledgment Ğ¿Ñ–ÑĞ»Ñ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾Ñ— Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸
              channel.ack(msg);
            } catch (error) {
              console.error('Error processing message:', error);

              // Negative acknowledgment Ğ· requeue
              // Ğ£ production Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Dead Letter Queue
              channel.nack(msg, false, true);
            }
          }
        },
        { noAck: false } // Manual acknowledgment
      );

      console.log('âœ… Project Event Consumer started successfully');
    } catch (error) {
      console.error('Failed to start consumer:', error);
      throw error;
    }
  }
}
```

**ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¾ÑĞ¾Ğ±Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ–:**

1. **Manual Acknowledgment** (`noAck: false`):
   - ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ”Ñ‚ÑŒÑÑ Ğ· Ñ‡ĞµÑ€Ğ³Ğ¸ Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ¿Ñ–ÑĞ»Ñ `ack()`
   - Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ” Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºÑƒ Ğ½Ğ°Ğ²Ñ–Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ¿Ğ°Ğ´Ñ–Ğ½Ğ½Ñ– ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ğ°

2. **Prefetch(1)**:
   - ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
   - Ğ Ñ–Ğ²Ğ½Ğ¾Ğ¼Ñ–Ñ€Ğ½Ğ¸Ğ¹ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ» Ğ¼Ñ–Ğ¶ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ğ¸Ğ¼Ğ¸ ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ğ°Ğ¼Ğ¸

3. **Error Handling**:
   - `nack()` Ğ· requeue Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ñ†Ñ– Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸
   - ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Dead Letter Queue

4. **Retry Logic**:
   - 5 ÑĞ¿Ñ€Ğ¾Ğ± Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ Ğ· RabbitMQ
   - Ğ—Ğ°Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° 5 ÑĞµĞºÑƒĞ½Ğ´ Ğ¼Ñ–Ğ¶ ÑĞ¿Ñ€Ğ¾Ğ±Ğ°Ğ¼Ğ¸

#### 6.2.4 server.ts (Ğ·Ğ°Ğ¿ÑƒÑĞº ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ğ°)

```typescript
import app from './app';
import { ProjectConsumer } from './consumers/project.consumer';
import { closeRabbitMQ } from './config/rabbitmq';
import dotenv from 'dotenv';

dotenv.config();

const PORT = process.env.PORT || 4004;

const startServer = async () => {
  try {
    // Ğ—Ğ°Ğ¿ÑƒÑĞº HTTP ÑĞµÑ€Ğ²ĞµÑ€Ğ°
    app.listen(PORT, () => {
      console.log(`Notifications Service is running on port ${PORT}`);
      console.log(`Health check: http://localhost:${PORT}/health`);
    });

    // Ğ—Ğ°Ğ¿ÑƒÑĞº event consumer
    const consumer = new ProjectConsumer();
    await consumer.start();

  } catch (error) {
    console.error('Failed to start server:', error);
    process.exit(1);
  }
};

// Graceful shutdown
process.on('SIGTERM', async () => {
  console.log('SIGTERM received. Closing connections...');
  await closeRabbitMQ();
  process.exit(0);
});

process.on('SIGINT', async () => {
  console.log('SIGINT received. Closing connections...');
  await closeRabbitMQ();
  process.exit(0);
});

startServer();
```

**ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ:**
- HTTP ÑĞµÑ€Ğ²ĞµÑ€ Ğ´Ğ»Ñ health checks Ñ‚Ğ° Ğ¼Ğ°Ğ¹Ğ±ÑƒÑ‚Ğ½Ñ–Ñ… API endpoints
- Event consumer Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ”Ñ‚ÑŒÑÑ Ğ¿Ğ°Ñ€Ğ°Ğ»ĞµĞ»ÑŒĞ½Ğ¾
- Graceful shutdown Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²

### 6.3 Dockerfile Ğ´Ğ»Ñ Notifications Service

```dockerfile
# Build stage
FROM node:20-alpine AS build

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .
RUN npm run build

# Production stage
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY --from=build /app/dist ./dist

# Security: non-root user
RUN addgroup -g 1001 -S nodejs && \
    adduser -S nodejs -u 1001

USER nodejs

EXPOSE 4004

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD node -e "require('http').get('http://localhost:4004/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"

CMD ["node", "dist/server.js"]
```

**ĞĞ¿Ñ‚Ğ¸Ğ¼Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—:**
- Multi-stage build Ğ´Ğ»Ñ Ğ·Ğ¼ĞµĞ½ÑˆĞµĞ½Ğ½Ñ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñƒ image
- Production dependencies only Ñƒ Ñ„Ñ–Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ image
- Non-root user Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸
- Health check Ğ´Ğ»Ñ Docker Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ—

---

## Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢Ğ˜ Ğ¢Ğ•Ğ¡Ğ¢Ğ£Ğ’ĞĞĞĞ¯

### 7.1 Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸

#### 7.1.1 Docker Compose build and start

```bash
docker compose up --build
```

**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ²Ñ–Ğ´:**

```
[+] Running 5/5
 âœ” Network taskflow-network       Created
 âœ” Container projects-db           Healthy
 âœ” Container rabbitmq              Healthy
 âœ” Container projects-service      Started
 âœ” Container notifications-service Started
```

#### 7.1.2 ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²

```bash
# Projects Service
curl http://localhost:4002/health
# Response: {"status":"healthy","service":"Projects Service","timestamp":"..."}

# Notifications Service
curl http://localhost:4004/health
# Response: {"status":"healthy","service":"Notifications Service","timestamp":"..."}
```

### 7.2 Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ğ´Ñ–Ğ¹

#### 7.2.1 Ğ¢ĞµÑÑ‚ 1: Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ (project.created)

**Ğ—Ğ°Ğ¿Ğ¸Ñ‚:**

```bash
curl -X POST http://localhost:4002/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6",
    "description": "Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—",
    "owner_id": 1,
    "priority": "high",
    "deadline": "2024-12-31"
  }'
```

**Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ:**

```json
{
  "success": true,
  "message": "Project created successfully",
  "data": {
    "id": 1,
    "name": "Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6",
    "description": "Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—",
    "owner_id": 1,
    "status": "planning",
    "priority": "high",
    "deadline": "2024-12-31T00:00:00.000Z",
    "created_at": "2024-01-15T10:30:00.000Z",
    "updated_at": "2024-01-15T10:30:00.000Z"
  }
}
```

**Ğ›Ğ¾Ğ³Ğ¸ Projects Service:**

```
ğŸ“¤ Event published: project.created {
  id: 1,
  name: 'Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6',
  description: 'Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—',
  owner_id: 1,
  status: 'planning',
  priority: 'high',
  deadline: '2024-12-31T00:00:00.000Z',
  created_at: '2024-01-15T10:30:00.000Z',
  updated_at: '2024-01-15T10:30:00.000Z'
}
```

**Ğ›Ğ¾Ğ³Ğ¸ Notifications Service:**

```
ğŸ“© Event received: project.created
ğŸ“§ NEW NOTIFICATION
========================================
Project: Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6
Description: Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—
Owner ID: 1
Priority: high
Start Date: N/A
Deadline: 2024-12-31T00:00:00.000Z
========================================
```

**ĞĞ½Ğ°Ğ»Ñ–Ğ·:**
- âœ… ĞŸĞ¾Ğ´Ñ–Ñ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ğ¾Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ°
- âœ… ĞŸĞ¾Ğ´Ñ–Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ° Notifications Service
- âœ… ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ğ¾ ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¾
- âœ… Ğ§Ğ°Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ < 50ms

#### 7.2.2 Ğ¢ĞµÑÑ‚ 2: ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ (project.updated)

**Ğ—Ğ°Ğ¿Ğ¸Ñ‚:**

```bash
curl -X PUT http://localhost:4002/api/projects/1 \
  -H "Content-Type: application/json" \
  -d '{
    "status": "active",
    "priority": "critical"
  }'
```

**Ğ›Ğ¾Ğ³Ğ¸ Projects Service:**

```
ğŸ“¤ Event published: project.updated {
  id: 1,
  name: 'Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6',
  status: 'active',
  priority: 'critical',
  updated_at: '2024-01-15T10:35:00.000Z'
}
```

**Ğ›Ğ¾Ğ³Ğ¸ Notifications Service:**

```
ğŸ“© Event received: project.updated
ğŸ”„ PROJECT UPDATE NOTIFICATION
========================================
Project: Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6
Status: active
Priority: critical
Updated: 2024-01-15T10:35:00.000Z
========================================
```

**ĞĞ½Ğ°Ğ»Ñ–Ğ·:**
- âœ… ĞŸĞ¾Ğ´Ñ–Ñ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ğ¾Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ°
- âœ… Ğ¡Ğ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ¸Ğ² Ğ¿Ğ¾Ğ´Ñ–Ñ Ğ½ĞµĞ³Ğ°Ğ¹Ğ½Ğ¾
- âœ… Ğ”Ğ°Ğ½Ñ– Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ñ– ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¾

#### 7.2.3 Ğ¢ĞµÑÑ‚ 3: Ğ’Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ (project.deleted)

**Ğ—Ğ°Ğ¿Ğ¸Ñ‚:**

```bash
curl -X DELETE http://localhost:4002/api/projects/1
```

**Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ:**

```json
{
  "success": true,
  "message": "Project deleted successfully"
}
```

**Ğ›Ğ¾Ğ³Ğ¸ Projects Service:**

```
ğŸ“¤ Event published: project.deleted {
  id: 1,
  name: 'Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6'
}
```

**Ğ›Ğ¾Ğ³Ğ¸ Notifications Service:**

```
ğŸ“© Event received: project.deleted
ğŸ—‘ï¸  PROJECT DELETION NOTIFICATION
========================================
Project ID: 1
Project Name: Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ›Ğ 6
Deleted at: 2024-01-15T10:40:00.000Z
========================================
```

**ĞĞ½Ğ°Ğ»Ñ–Ğ·:**
- âœ… ĞŸĞ¾Ğ´Ñ–Ñ Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ¾Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ°
- âœ… Ğ¡Ğ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ¸Ğ² ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¾
- âœ… ĞœÑ–Ğ½Ñ–Ğ¼Ğ°Ğ»ÑŒĞ½Ñ– Ğ´Ğ°Ğ½Ñ– (Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ id Ñ‚Ğ° name) Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ñ– Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾

### 7.3 RabbitMQ Management UI

**Ğ”Ğ¾ÑÑ‚ÑƒĞ¿:** http://localhost:15672
**Credentials:** guest / guest

#### 7.3.1 ĞĞ³Ğ»ÑĞ´ Ñ‡ĞµÑ€Ğ³Ğ¸ project_events

**ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸:**
- **Messages ready:** 0 (Ğ²ÑÑ– Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ñ–)
- **Messages unacknowledged:** 0
- **Total messages:** 3 (created, updated, deleted)
- **Consumers:** 1
- **Message rate:** ~0.05 msg/s (Ğ¿Ñ€Ğ¸ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ–)

#### 7.3.2 Ğ’Ğ»Ğ°ÑÑ‚Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– Ñ‡ĞµÑ€Ğ³Ğ¸

```
Name: project_events
Type: classic
Features: D (Durable)
State: running
Consumers: 1
Idle since: never
```

### 7.4 Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¾ÑÑ‚Ñ–Ğ¹ĞºĞ¾ÑÑ‚Ñ–

#### 7.4.1 Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹: ĞĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ–ÑÑ‚ÑŒ RabbitMQ

**Ğ”Ñ–Ñ—:**
1. Ğ—ÑƒĞ¿Ğ¸Ğ½Ğ¸Ñ‚Ğ¸ RabbitMQ: `docker compose stop rabbitmq`
2. Ğ¡Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ²Ğ°Ñ‚Ğ¸ ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ñ‡ĞµÑ€ĞµĞ· Projects Service

**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
```
Projects Service logs:
RabbitMQ channel not available. Event not published.
```

**Ğ¤Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
- âœ… ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¸Ğ¹ Ñƒ Ğ‘Ğ” ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾
- âœ… API Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ² 201 Created
- âœ… Warning Ğ¿Ñ€Ğ¾ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ–ÑÑ‚ÑŒ RabbitMQ
- âœ… Ğ¡ĞµÑ€Ğ²Ñ–Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ÑƒÑ” Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸ (Graceful degradation)

**ĞĞ½Ğ°Ğ»Ñ–Ğ·:**
- Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€ÑƒÑ” resilience Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½
- ĞÑĞ½Ğ¾Ğ²Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ Ğ½Ğµ Ğ¿Ğ¾Ñ€ÑƒÑˆĞµĞ½Ğ°
- ĞŸĞ¾Ğ´Ñ–Ñ— Ğ±ÑƒĞ´ÑƒÑ‚ÑŒ Ğ²Ñ‚Ñ€Ğ°Ñ‡ĞµĞ½Ñ– (trade-off Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ¸)

#### 7.4.2 Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹: ĞŸĞ°Ğ´Ñ–Ğ½Ğ½Ñ Notifications Service

**Ğ”Ñ–Ñ—:**
1. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ (Ğ¿Ğ¾Ğ´Ñ–Ñ Ğ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒÑ”Ñ‚ÑŒÑÑ)
2. Ğ—ÑƒĞ¿Ğ¸Ğ½Ğ¸Ñ‚Ğ¸ Notifications Service: `docker compose stop notifications-service`
3. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ñ‰Ğµ Ğ¾Ğ´Ğ¸Ğ½ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
4. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸ Notifications Service: `docker compose start notifications-service`

**ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
- ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ, Ğ¾Ğ¿ÑƒĞ±Ğ»Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ñ– Ğ¿Ñ–Ğ´ Ñ‡Ğ°Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ñ, Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°ÑÑ‚ÑŒÑÑ Ğ² Ñ‡ĞµÑ€Ğ·Ñ–
- ĞŸÑ–ÑĞ»Ñ Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ÑÑ” Ğ½Ğ°ĞºĞ¾Ğ¿Ğ¸Ñ‡ĞµĞ½Ñ– Ğ¿Ğ¾Ğ´Ñ–Ñ—

**Ğ¤Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
- âœ… ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ½Ğ°ĞºĞ¾Ğ¿Ğ¸Ñ‡Ğ¸Ğ»Ğ¸ÑÑŒ Ñƒ Ñ‡ĞµÑ€Ğ·Ñ– (Messages ready: 1)
- âœ… ĞŸÑ–ÑĞ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ¸Ğ² Ğ²ÑÑ– Ğ¿Ğ¾Ğ´Ñ–Ñ—
- âœ… ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¾ (FIFO)

**ĞĞ½Ğ°Ğ»Ñ–Ğ·:**
- RabbitMQ Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ÑƒÑ” Ğ±ÑƒÑ„ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ
- Durable queue Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
- Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ñ–Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ (at-least-once delivery)

### 7.5 ĞĞ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ğ»ÑŒĞ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ

#### 7.5.1 ĞœĞ°ÑĞ¾Ğ²Ğµ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñ–Ğ²

**Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚:**

```bash
for i in {1..100}; do
  curl -X POST http://localhost:4002/api/projects \
    -H "Content-Type: application/json" \
    -d "{\"name\": \"Project $i\", \"owner_id\": 1, \"priority\": \"medium\"}" &
done
wait
```

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¸:**

| ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ |
|---------|----------|
| Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ° ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñ–Ğ² | 100 |
| ĞĞ¿ÑƒĞ±Ğ»Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ–Ğ¹ | 100 |
| ĞĞ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ–Ğ¹ | 100 |
| Ğ’Ñ‚Ñ€Ğ°Ñ‡ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ´Ñ–Ğ¹ | 0 |
| Ğ¡ĞµÑ€ĞµĞ´Ğ½Ñ–Ğ¹ Ñ‡Ğ°Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ | ~15ms |
| Max Ñ‡Ğ°Ñ Ğ² Ñ‡ĞµÑ€Ğ·Ñ– | ~200ms |

**ĞĞ½Ğ°Ğ»Ñ–Ğ·:**
- âœ… Ğ’ÑÑ– Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ñ– Ğ±ĞµĞ· Ğ²Ñ‚Ñ€Ğ°Ñ‚
- âœ… Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ğ¸Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ»Ğ° burst Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ
- âœ… Ğ§ĞµÑ€Ğ³Ğ° Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ»Ğ° Ñ€Ğ¾Ğ»ÑŒ Ğ±ÑƒÑ„ĞµÑ€Ğ°
- âœ… Ğ§Ğ°Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ ÑÑ‚Ğ°Ğ±Ñ–Ğ»ÑŒĞ½Ğ¸Ğ¹

### 7.6 ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° persistent messages

#### 7.6.1 Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ñ–Ğ¹: ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº RabbitMQ

**Ğ”Ñ–Ñ—:**
1. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ (Ğ¿Ğ¾Ğ´Ñ–Ñ Ğ² Ñ‡ĞµÑ€Ğ·Ñ–)
2. Ğ—ÑƒĞ¿Ğ¸Ğ½Ğ¸Ñ‚Ğ¸ Notifications Service
3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸ RabbitMQ: `docker compose restart rabbitmq`
4. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸ Notifications Service

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
- âœ… ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ±ĞµÑ€Ñ–Ğ³Ğ»Ğ¾ÑÑŒ Ğ¿Ñ–ÑĞ»Ñ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºÑƒ RabbitMQ
- âœ… Ğ¡Ğ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ¸Ğ² Ğ¿Ğ¾Ğ´Ñ–Ñ Ğ¿Ñ–ÑĞ»Ñ Ğ¿Ñ–Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ
- âœ… ĞŸÑ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ° persistent storage

---

## Ğ’Ğ˜Ğ¡ĞĞĞ’ĞšĞ˜

### 8.1 Ğ”Ğ¾ÑÑĞ³Ğ½ĞµĞ½Ğ½Ñ Ğ¼ĞµÑ‚Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸

Ğ£ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ– Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ±ÑƒĞ»Ğ¾ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñƒ Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ñƒ Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ Ğ² Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ñ–Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ– **TaskFlow** Ğ· Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½ÑĞ¼ Ğ±Ñ€Ğ¾ĞºĞµÑ€Ğ° Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ **RabbitMQ**.

**Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ñ– Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ:**

1. âœ… **Ğ’Ğ¸Ğ²Ñ‡ĞµĞ½Ğ¾ Ñ‚ĞµĞ¾Ñ€ĞµÑ‚Ğ¸Ñ‡Ğ½Ñ– Ğ¾ÑĞ½Ğ¾Ğ²Ğ¸:**
   - ĞŸĞ°Ñ‚ĞµÑ€Ğ½Ğ¸ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ— (Pub/Sub, Event-Driven Architecture)
   - ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ±Ñ€Ğ¾ĞºĞµÑ€Ñ–Ğ² Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ
   - ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» AMQP Ñ‚Ğ° Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° RabbitMQ
   - ĞœĞµÑ…Ğ°Ğ½Ñ–Ğ·Ğ¼Ğ¸ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ñ–Ñ— Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ (acknowledgments, persistent messages)

2. âœ… **Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾ Notifications Service:**
   - ĞĞ¾Ğ²Ğ¸Ğ¹ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–Ñ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ğ¿Ğ¾Ğ´Ñ–Ğ¹
   - Ğ¡Ğ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡ RabbitMQ Ğ· manual acknowledgment
   - Ğ‘Ñ–Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ñ–ĞºĞ° Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ Ñ‚Ñ€ÑŒĞ¾Ñ… Ñ‚Ğ¸Ğ¿Ñ–Ğ² Ğ¿Ğ¾Ğ´Ñ–Ğ¹
   - ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ Ñ‚Ğ° Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ Ğ² Docker Compose

3. âœ… **ĞœĞ¾Ğ´Ğ¸Ñ„Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾ Projects Service:**
   - Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ event publisher
   - ĞŸÑƒĞ±Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ´Ñ–Ğ¹ Ğ¿Ñ€Ğ¸ CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–ÑÑ…
   - Retry logic Ñ‚Ğ° graceful degradation
   - Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ·Ğ²Ğ¾Ñ€Ğ¾Ñ‚Ğ½Ğ¾Ñ— ÑÑƒĞ¼Ñ–ÑĞ½Ğ¾ÑÑ‚Ñ– API

4. âœ… **ĞĞ°Ğ»Ğ°ÑˆÑ‚Ğ¾Ğ²Ğ°Ğ½Ğ¾ RabbitMQ:**
   - Durable Ñ‡ĞµÑ€Ğ³Ğ° Ğ´Ğ»Ñ Ğ½Ğ°Ğ´Ñ–Ğ¹Ğ½Ğ¾ÑÑ‚Ñ–
   - Persistent messages
   - Management UI Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ
   - Health checks Ğ´Ğ»Ñ Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ—

5. âœ… **ĞŸÑ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ:**
   - Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ– Ñ‚ĞµÑÑ‚Ğ¸ Ğ²ÑÑ–Ñ… Ñ‚Ğ¸Ğ¿Ñ–Ğ² Ğ¿Ğ¾Ğ´Ñ–Ğ¹
   - Ğ¢ĞµÑÑ‚Ğ¸ Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¾ÑÑ‚Ñ–Ğ¹ĞºĞ¾ÑÑ‚Ñ–
   - ĞĞ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ğ»ÑŒĞ½Ñ– Ñ‚ĞµÑÑ‚Ğ¸
   - ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° persistent storage

### 8.2 ĞŸĞµÑ€ĞµĞ²Ğ°Ğ³Ğ¸ Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾Ñ— Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¸

#### 8.2.1 Ğ¡Ğ»Ğ°Ğ±ĞºĞµ Ğ·Ğ²'ÑĞ·ÑƒĞ²Ğ°Ğ½Ğ½Ñ (Loose Coupling)

- Projects Service Ğ½Ğµ Ğ·Ğ½Ğ°Ñ” Ğ¿Ñ€Ğ¾ Ñ–ÑĞ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ Notifications Service
- ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ… ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ñ–Ğ² Ğ±ĞµĞ· Ğ·Ğ¼Ñ–Ğ½Ğ¸ publisher
- ĞĞµĞ·Ğ°Ğ»ĞµĞ¶Ğ½Ğµ Ñ€Ğ¾Ğ·Ğ³Ğ¾Ñ€Ñ‚Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²

#### 8.2.2 ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¾Ğ²Ğ°Ğ½Ñ–ÑÑ‚ÑŒ

- Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ñ–Ğ²
- Ğ§ĞµÑ€Ğ³Ğ° Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒÑ” Ñ€Ğ¾Ğ»ÑŒ Ğ±ÑƒÑ„ĞµÑ€Ğ° Ğ¿Ñ€Ğ¸ Ğ¿Ñ–ĞºĞ°Ñ… Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ
- Round-robin Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ» Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Ğ¼Ñ–Ğ¶ ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ğ°Ğ¼Ğ¸

#### 8.2.3 Ğ’Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ¾ÑÑ‚Ñ–Ğ¹ĞºÑ–ÑÑ‚ÑŒ

- Graceful degradation Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ñ– RabbitMQ
- Ğ—Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Ğ½Ğ° Ğ´Ğ¸ÑĞºÑƒ (persistent)
- Manual acknowledgment Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ” Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºÑƒ
- Retry logic Ğ¿Ñ€Ğ¸ Ñ‚Ğ¸Ğ¼Ñ‡Ğ°ÑĞ¾Ğ²Ğ¸Ñ… Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ°Ñ…

#### 8.2.4 Ğ Ğ¾Ğ·ÑˆĞ¸Ñ€ÑĞ²Ğ°Ğ½Ñ–ÑÑ‚ÑŒ

- Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ñ– Ñ‚Ğ¸Ğ¿Ğ¸ Ğ¿Ğ¾Ğ´Ñ–Ğ¹
- ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ— Ğ· Ñ–Ğ½ÑˆĞ¸Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸
- ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ğ¸Ñ… ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ñ–Ğ² Ğ¾Ğ´Ğ½Ñ–Ñ”Ñ— Ğ¿Ğ¾Ğ´Ñ–Ñ—

### 8.3 Ğ’Ğ¸ÑĞ²Ğ»ĞµĞ½Ñ– Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ñ– Ğ¿Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ½Ñ

#### 8.3.1 ĞĞ±Ğ¼ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ñ— Ñ€ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—

1. **Eventual Consistency:**
   - ĞŸĞ¾Ğ´Ñ–Ñ— Ğ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒÑÑ‚ÑŒÑÑ Ğ¿Ñ–ÑĞ»Ñ DB commit, Ğ°Ğ»Ğµ Ğ±ĞµĞ· Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ñ–Ğ¹Ğ½Ğ¾ÑÑ‚Ñ–
   - ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑÑ‚ÑŒ Ğ²Ñ‚Ñ€Ğ°Ñ‚Ğ¸ Ğ¿Ğ¾Ğ´Ñ–Ñ— Ğ¿Ñ€Ğ¸ Ğ¿Ğ°Ğ´Ñ–Ğ½Ğ½Ñ– Ğ¼Ñ–Ğ¶ commit Ñ‚Ğ° publish
   - **Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** Transactional Outbox Pattern

2. **Ğ’Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ–ÑÑ‚ÑŒ Dead Letter Queue:**
   - ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ¾Ğ²Ñ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ requeue Ğ½ĞµÑĞºÑ–Ğ½Ñ‡ĞµĞ½Ğ½Ğ¾
   - ĞĞµĞ¼Ğ°Ñ” Ğ¼ĞµÑ…Ğ°Ğ½Ñ–Ğ·Ğ¼Ñƒ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ permanently failed events
   - **Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** DLQ Ğ· alerting

3. **ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸:**
   - Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ”Ñ‚ÑŒÑÑ FIFO Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ Ğ² Ğ¼ĞµĞ¶Ğ°Ñ… Ğ¾Ğ´Ğ½Ñ–Ñ”Ñ— Ñ‡ĞµÑ€Ğ³Ğ¸
   - ĞŸÑ€Ğ¸ Ğ¼Ğ½Ğ¾Ğ¶Ğ¸Ğ½Ğ½Ğ¸Ñ… ÑĞ¿Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ñ‡Ğ°Ñ… Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ¼Ğ¾Ğ¶Ğµ Ğ¿Ğ¾Ñ€ÑƒÑˆÑƒĞ²Ğ°Ñ‚Ğ¸ÑÑŒ
   - **Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** Partitioned queues Ğ°Ğ±Ğ¾ message grouping

4. **ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³:**
   - Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¸Ğ¹ logging
   - ĞĞµĞ¼Ğ°Ñ” Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº Ñ‚Ğ° alerting
   - **Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** Prometheus + Grafana, ELK stack

#### 8.3.2 ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ñ– Ğ¿Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ½Ñ

1. **Transactional Outbox Pattern:**
   ```sql
   CREATE TABLE outbox_events (
     id SERIAL PRIMARY KEY,
     event_type VARCHAR(100),
     payload JSONB,
     created_at TIMESTAMP,
     processed BOOLEAN DEFAULT FALSE
   );
   ```
   - Atomic write Ğ´Ğ¾ DB Ñ‚Ğ° outbox table
   - ĞĞºÑ€ĞµĞ¼Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑ Ğ¿ÑƒĞ±Ğ»Ñ–ĞºÑƒÑ” Ğ· outbox Ğ´Ğ¾ RabbitMQ
   - Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ñ–Ñ at-least-once delivery

2. **Dead Letter Queue:**
   ```typescript
   await channel.assertQueue('project_events', {
     durable: true,
     deadLetterExchange: 'dlx',
     deadLetterRoutingKey: 'project_events_dlq'
   });
   ```

3. **Idempotency:**
   - Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ event ID Ğ´Ğ»Ñ Ğ´ĞµĞ´ÑƒĞ¿Ğ»Ñ–ĞºĞ°Ñ†Ñ–Ñ—
   - Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ‚Ğ¸ Ğ¾Ğ±Ñ€Ğ¾Ğ±Ğ»ĞµĞ½Ñ– event IDs
   - Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ exactly-once processing

4. **Circuit Breaker Ğ´Ğ»Ñ RabbitMQ:**
   ```typescript
   import CircuitBreaker from 'opossum';

   const breaker = new CircuitBreaker(publishEvent, {
     timeout: 3000,
     errorThresholdPercentage: 50,
     resetTimeout: 30000
   });
   ```

5. **Structured Logging:**
   ```typescript
   import winston from 'winston';

   logger.info('Event published', {
     eventType: 'project.created',
     projectId: project.id,
     timestamp: new Date().toISOString()
   });
   ```

6. **Message Schemas:**
   - JSON Schema Ğ°Ğ±Ğ¾ Protocol Buffers
   - Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ
   - Ğ’ĞµÑ€ÑÑ–Ğ¾Ğ½ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ğ´Ñ–Ğ¹

### 8.4 ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ° Ñ†Ñ–Ğ½Ğ½Ñ–ÑÑ‚ÑŒ

Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€ÑƒÑ” industry-standard Ğ¿Ñ–Ğ´Ñ…Ğ¾Ğ´Ğ¸ Ğ´Ğ¾ Ğ¿Ğ¾Ğ±ÑƒĞ´Ğ¾Ğ²Ğ¸ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ğ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼:

1. **Event-Driven Architecture** â€” Ğ¾ÑĞ½Ğ¾Ğ²Ğ° ÑÑƒÑ‡Ğ°ÑĞ½Ğ¸Ñ… Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²
2. **Asynchronous Communication** â€” ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ´Ğ»Ñ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¾Ğ²Ğ°Ğ½Ğ¾ÑÑ‚Ñ–
3. **Message Brokers** â€” ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚ Ğ´Ğ»Ñ enterprise-ÑĞ¸ÑÑ‚ĞµĞ¼
4. **Docker Orchestration** â€” Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ğ½Ğ°Ğ²Ğ¸Ğº DevOps

### 8.5 ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ñ– Ğ½Ğ°Ğ²Ğ¸Ñ‡ĞºĞ¸

1. ĞŸÑ€Ğ¾ĞµĞºÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ event-driven ÑĞ¸ÑÑ‚ĞµĞ¼
2. Ğ Ğ¾Ğ±Ğ¾Ñ‚Ğ° Ğ· RabbitMQ Ñ‚Ğ° AMQP Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ¼
3. Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ patterns: Publisher-Subscriber, Retry, Circuit Breaker
4. Docker multi-container orchestration
5. Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ğ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼
6. ĞĞ½Ğ°Ğ»Ñ–Ğ· trade-offs Ñƒ distributed systems

### 8.6 ĞŸÑ–Ğ´ÑÑƒĞ¼Ğ¾Ğº

Ğ›Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ° Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ° ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ°. Ğ ĞµĞ°Ğ»Ñ–Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¿Ğ¾Ğ²Ğ½Ğ¾Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñƒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾Ñ— Ğ¼Ñ–Ğ¶ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—, ÑĞºĞ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ°Ğ¼ Ğ½Ğ°Ğ´Ñ–Ğ¹Ğ½Ğ¾ÑÑ‚Ñ–, Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¾Ğ²Ğ°Ğ½Ğ¾ÑÑ‚Ñ– Ñ‚Ğ° Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ğ½Ğ¾ÑÑ‚Ñ–. ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ñ– Ğ·Ğ½Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ğ½Ğ°Ğ²Ğ¸Ñ‡ĞºĞ¸ Ñ” Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ¸ ÑÑƒÑ‡Ğ°ÑĞ½Ğ¸Ñ… Ñ€Ğ¾Ğ·Ğ¿Ğ¾Ğ´Ñ–Ğ»ĞµĞ½Ğ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼.

---

## Ğ¡ĞŸĞ˜Ğ¡ĞĞš Ğ’Ğ˜ĞšĞĞ Ğ˜Ğ¡Ğ¢ĞĞĞ˜Ğ¥ Ğ”Ğ–Ğ•Ğ Ğ•Ğ›

1. **RabbitMQ Documentation**
   https://www.rabbitmq.com/documentation.html
   ĞÑ„Ñ–Ñ†Ñ–Ğ¹Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ RabbitMQ

2. **AMQP Protocol Specification**
   https://www.amqp.org/specification/0-9-1/amqp-org-download
   Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ñƒ AMQP 0-9-1

3. **Martin Fowler - Event-Driven Architecture**
   https://martinfowler.com/articles/201701-event-driven.html
   Ğ¤ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ° ÑÑ‚Ğ°Ñ‚Ñ‚Ñ Ğ¿Ñ€Ğ¾ EDA

4. **Chris Richardson - Microservices Patterns**
   https://microservices.io/patterns/data/event-driven-architecture.html
   ĞŸĞ°Ñ‚ĞµÑ€Ğ½Ğ¸ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑĞ½Ğ¾Ñ— Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¸

5. **Docker Documentation**
   https://docs.docker.com/
   ĞÑ„Ñ–Ñ†Ñ–Ğ¹Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ Docker

6. **Docker Compose Specification**
   https://docs.docker.com/compose/compose-file/
   Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ Docker Compose Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²

7. **Node.js amqplib Library**
   https://www.npmjs.com/package/amqplib
   Ğ‘Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞºĞ° Ğ´Ğ»Ñ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ· RabbitMQ Ğ² Node.js

8. **TypeScript Documentation**
   https://www.typescriptlang.org/docs/
   ĞÑ„Ñ–Ñ†Ñ–Ğ¹Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ TypeScript

9. **Express.js Guide**
   https://expressjs.com/en/guide/routing.html
   Ğ“Ğ°Ğ¹Ğ´ Ğ¿Ğ¾ Express.js framework

10. **PostgreSQL Documentation**
    https://www.postgresql.org/docs/
    ĞÑ„Ñ–Ñ†Ñ–Ğ¹Ğ½Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ PostgreSQL

11. **Gregor Hohpe, Bobby Woolf - Enterprise Integration Patterns**
    Book: "Enterprise Integration Patterns: Designing, Building, and Deploying Messaging Solutions"
    ĞšĞ»Ğ°ÑĞ¸Ñ‡Ğ½Ğ° ĞºĞ½Ğ¸Ğ³Ğ° Ğ¿Ñ€Ğ¾ integration patterns

12. **Sam Newman - Building Microservices**
    Book: "Building Microservices: Designing Fine-Grained Systems"
    ĞŸĞ¾ÑÑ–Ğ±Ğ½Ğ¸Ğº Ğ· Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¼Ñ–ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ñ–ÑÑ–Ğ²

---

**Ğ”Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¸:**

- Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº Ğ: Ğ’Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´ Projects Service (eventPublisher.ts)
- Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº Ğ‘: Ğ’Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´ Notifications Service (Ğ¿Ğ¾Ğ²Ğ½Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)
- Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº Ğ’: Docker Compose ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ
- Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº Ğ“: Ğ¡ĞºÑ€Ñ–Ğ½ÑˆĞ¾Ñ‚Ğ¸ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ
- Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¾Ğº Ğ”: Ğ†Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ Ğ· Ñ€Ğ¾Ğ·Ğ³Ğ¾Ñ€Ñ‚Ğ°Ğ½Ğ½Ñ (TESTING_GUIDE.md)

---

*ĞšÑ–Ğ½ĞµÑ†ÑŒ Ğ·Ğ²Ñ–Ñ‚Ñƒ*
